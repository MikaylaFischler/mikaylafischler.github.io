<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WPI RBE 2001 Team 16 Robot Code: rbe2001/subsystems/ThreadedRobot.hpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">WPI RBE 2001 Team 16 Robot Code
   </div>
   <div id="projectbrief">Arduino code to complete tasks given in RBE 2001.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d9/da8/_threaded_robot_8hpp_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ThreadedRobot.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d9/da8/_threaded_robot_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef THREADED_ROBOT_HPP_</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define THREADED_ROBOT_HPP_</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;inttypes.h&gt;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;math.h&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/db0/_messenger_8hpp.html">Messenger.hpp</a>&quot;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;../config.h&quot;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;../mechanisms/DriveTrain.hpp&quot;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;../mechanisms/Arm.hpp&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;../mechanisms/Intake.hpp&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;../devices/io/ReflectanceSensor.hpp&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;../devices/io/Gyroscope.hpp&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;../devices/io/Accelerometer.hpp&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">/* status bitmasks */</span></div><div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#a0bd5b2755ddab25dc7c7f0fd9f907e92">   17</a></span>&#160;<span class="preprocessor">#define STATUS_DRIVE_FC 0x10    </span><span class="comment">///&lt; @brief First call of drive state</span></div><div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#af64a9cac77953e37e9facd5f39a41ea6">   18</a></span>&#160;<span class="comment"></span>#define STATUS_ARM_FC 0x20      <span class="comment">///&lt; @brief First call of arm state</span></div><div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#a11f08cf179cbed14133b5202e4b3d08d">   19</a></span>&#160;<span class="comment"></span>#define STATUS_INTAKE_FC 0x40   <span class="comment">///&lt; @brief First call of intake state</span></div><div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#aec119baf235144dbcf93f18dee9371d5">   20</a></span>&#160;<span class="comment"></span>#define STATUS_SYSTEM_FC 0x80   <span class="comment">///&lt; @brief First call of global state</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#a9ba1d31706f568992789685278b59c6b">   22</a></span>&#160;<span class="preprocessor">#define STATUS_INITIAL STATUS_DRIVE_FC | STATUS_ARM_FC | STATUS_INTAKE_FC</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">/* state machine states */</span></div><div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#a660f930e51755e1c2e76220fc1952a82">   25</a></span>&#160;<span class="preprocessor">#define SM_DRIVE_STOP 0                     </span><span class="comment">///&lt; @brief Stop the drive motors (then do nothing)</span></div><div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#ad8059005f360a46de99b00ca40801fec">   26</a></span>&#160;<span class="comment"></span>#define SM_DRIVE_REACTOR 1                  <span class="comment">///&lt; @brief Drive to reactor</span></div><div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#a4f6a6e6b703f8b80f5d02968d9595267">   27</a></span>&#160;<span class="comment"></span>#define SM_DRIVE_FUEL_STORAGE 2             <span class="comment">///&lt; @brief Drive to storage tubes</span></div><div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#a736b22dbab4c41abd3670d0613e9b7b2">   28</a></span>&#160;<span class="comment"></span>#define SM_DRIVE_FUEL_SUPPLY 3              <span class="comment">///&lt; @brief Drive to supply tubes</span></div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#a15a3a8b9bc4c8d83aea6b4f8d9fe78a9">   29</a></span>&#160;<span class="comment"></span>#define SM_DRIVE_FUEL_DEPOSIT_RETRIEVE 4    <span class="comment">///&lt; @brief Drive to tubes to deposit or retrieve</span></div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#aabc19201dab2e84504bcafcbb24015ab">   30</a></span>&#160;<span class="comment"></span>#define SM_DRIVE_WALL_RETREAT 5             <span class="comment">///&lt; @brief Retreat back from the wall</span></div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#a59b73e9a00ed2ca9fbfc22a25281ab9f">   31</a></span>&#160;<span class="comment"></span>#define SM_DRIVE_REACTOR_LOAD_RETREAT 6     <span class="comment">///&lt; @brief Retreat back after loading/unloading the reactor</span></div><div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#adac605b3f05fb0b3166eddf6bffeaae2">   32</a></span>&#160;<span class="comment"></span>#define SM_DRIVE_TURN_FROM_REACTOR 7        <span class="comment">///&lt; @brief Turn away from the reactor after completion of removing/inserting fuel</span></div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#a0dfd6ccb0681319880cf03a62262aa43">   33</a></span>&#160;<span class="comment"></span>#define SM_DRIVE_TURN_LEFT 8                <span class="comment">///&lt; @brief Turn left 90 degrees</span></div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#a065168c9946205caff716032d3f26d1b">   34</a></span>&#160;<span class="comment"></span>#define SM_DRIVE_TURN_RIGHT 9               <span class="comment">///&lt; @brief Turn right 90 degrees</span></div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#aac0c6c5f2a3a9106b067d6964c467a1e">   35</a></span>&#160;<span class="comment"></span>#define SM_DRIVE_TURN_180 10                <span class="comment">///&lt; @brief Turn right 180 degrees</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#a96fec3d4c162b9ffe5c1c5847c58f1d9">   37</a></span>&#160;<span class="preprocessor">#define SM_ARM_IDLE 0                       </span><span class="comment">///&lt; @brief Idle the arm (do nothing)</span></div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#a17eb65c231c0816f2929a40e1af28a8a">   38</a></span>&#160;<span class="comment"></span>#define SM_ARM_HOLD 1                       <span class="comment">///&lt; @brief Hold the arm in its current setpoint with the PD controller</span></div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#ab81e7b2b3227c0de1b76dcfdddb78f75">   39</a></span>&#160;<span class="comment"></span>#define SM_ARM_UP 2                         <span class="comment">///&lt; @brief Set the arm to its upward position and drive there</span></div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#a696681018aa36726b057d6b82573d620">   40</a></span>&#160;<span class="comment"></span>#define SM_ARM_DOWN 3                       <span class="comment">///&lt; @brief Set the arm to one of its lower positions and drive there</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#a1ccedfbf469636f5afc2c68499f826a9">   42</a></span>&#160;<span class="preprocessor">#define SM_INTAKE_IDLE 0                    </span><span class="comment">///&lt; @brief Idle the intake (do nothing)</span></div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#afbbce27f2ad74e23a17117134f66f94f">   43</a></span>&#160;<span class="comment"></span>#define SM_INTAKE_HOLD 1                    <span class="comment">///&lt; @brief Hold the rod in the intake (run inwards if sensor thinks we lost the rod)</span></div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#a8e869bc75311ab5b24a7dcd53163d9f5">   44</a></span>&#160;<span class="comment"></span>#define SM_INTAKE_IN 2                      <span class="comment">///&lt; @brief Drive the intake inwards until the rod is sensed</span></div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#a533e726e2969b8474ca1cf9b697cb0b8">   45</a></span>&#160;<span class="comment"></span>#define SM_INTAKE_SLOW_IN 3                 <span class="comment">///&lt; @brief Slowly run the intake inwards until the rod is sensed</span></div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#aee99598bb6301112885aebf03222896f">   46</a></span>&#160;<span class="comment"></span>#define SM_INTAKE_EJECT 4                   <span class="comment">///&lt; @brief Eject the rod (run intake outwards)</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">/* abstract steps of process */</span></div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#a388ca9e0532aeb38988df56f8226b6f9">   49</a></span>&#160;<span class="preprocessor">#define STEP__TO_REACTOR 0                  </span><span class="comment">///&lt; @brief Get to the current reactor</span></div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#a303b885262b38d61b183b975a31fa9f5">   50</a></span>&#160;<span class="comment"></span>#define STEP__EXTRACT_ROUTINE 1             <span class="comment">///&lt; @brief Extract from the current reactor</span></div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#ac43f0de8273a3d7db6116817ea05b953">   51</a></span>&#160;<span class="comment"></span>#define STEP__TO_STORAGE 2                  <span class="comment">///&lt; @brief Head to storage</span></div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#a26c2a122486872fb524e51b3040a6dc5">   52</a></span>&#160;<span class="comment"></span>#define STEP__TO_SUPPLY_NAV 3               <span class="comment">///&lt; @brief Head to supply</span></div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#a037aff3c57462898ffb71a1a0f8096a1">   53</a></span>&#160;<span class="comment"></span>#define STEP__TO_SUPPLY 4                   <span class="comment">///&lt; @brief Head to supply</span></div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#a4fc7e302c22b562e209b43ca06b8965d">   54</a></span>&#160;<span class="comment"></span>#define STEP__TO_REACTOR_RETURN 5           <span class="comment">///&lt; @brief Return to reactor from supply</span></div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#aa746f89a7ab4e61cfe763ca6ad8a2e22">   55</a></span>&#160;<span class="comment"></span>#define STEP__INSERT_ROUTINE 6              <span class="comment">///&lt; @brief Insert new rod into reactor</span></div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#a599e63384671b0b789ac2ea2ba1fd255">   56</a></span>&#160;<span class="comment"></span>#define STEP__TO_REACTOR_TWO 7              <span class="comment">///&lt; @brief Head to second reactor</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">// robot mode global</span></div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="../../d9/da8/_threaded_robot_8hpp.html#a0710cfb77cd7024b3c712061f1349443">   59</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a0710cfb77cd7024b3c712061f1349443">robot_disabled</a> = 0;                    <span class="comment">///&lt; @brief True if the robot is disabled</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">// global qtra cache</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">bool</span> <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a90bb1c48eba85e2acf136982fcfd628e">horiz_line</a>;                     <span class="comment">///&lt; @brief If the main code detected a horizontal line</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"></span><span class="comment"></span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">    Threaded Robot Class</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">    @file ThreadedRobot.hpp</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">    @brief Threaded Robot Header</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">    @details Manages running all robot functions in a virtual multithreaded environment.</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">    @author Mikayla Fischler</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html">   71</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../da/df1/class_threaded_robot.html">ThreadedRobot</a> {</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">   73</a></span>&#160;    <a class="code" href="../../d6/dc9/class_messenger.html">Messenger</a>* <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>;   <span class="comment">///&lt; @brief Pointer to instantiated and configured Messenger</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"></span><span class="comment"></span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">    /*!</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">        @brief Robot status flags.</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">        @details bit[0] =&gt; 1 = have old fuel&lt;br&gt;</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">                 bit[1] =&gt; 1 = have new fuel&lt;br&gt;</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">                 bit[2] =&gt; 1 = returning new fuel&lt;br&gt;</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">                 bit[3] =&gt; 1 = getting new fuel&lt;br&gt;</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">                 bit[4] =&gt; 1 = first call of current drive state (state changed), 0 = state unchanged&lt;br&gt;</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">                 bit[5] =&gt; 1 = first call of current arm state (state changed), 0 = state unchanged&lt;br&gt;</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">                 bit[6] =&gt; 1 = first call of current gripper state (state changed), 0 = state unchanged&lt;br&gt;</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">                 bit[7] =&gt; (reserved bit)</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">   86</a></span>&#160;    uint8_t <a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a>;             <span class="comment">///&lt; @brief The status byte of the system, &amp; with the status bitmasks to use</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">   88</a></span>&#160;    uint8_t <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a>;        <span class="comment">///&lt; @brief Status of the drive subsystem</span></div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#a19026abe96d44213f7e8b3983be2d968">   89</a></span>&#160;<span class="comment"></span>    uint8_t <a class="code" href="../../da/df1/class_threaded_robot.html#a19026abe96d44213f7e8b3983be2d968">arm_state</a>;          <span class="comment">///&lt; @brief Status of the four-bar arm subsystem</span></div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#a832f25be64f45ff3297d3da9609a9391">   90</a></span>&#160;<span class="comment"></span>    uint8_t <a class="code" href="../../da/df1/class_threaded_robot.html#a832f25be64f45ff3297d3da9609a9391">intake_state</a>;       <span class="comment">///&lt; @brief Status of the intake subsystem</span></div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#a4a4a3eab10c962150bc5194f22d10496">   91</a></span>&#160;<span class="comment"></span>    uint8_t <a class="code" href="../../da/df1/class_threaded_robot.html#a4a4a3eab10c962150bc5194f22d10496">drive_state_prev</a>;   <span class="comment">///&lt; @brief Previous status of the drive subsystem</span></div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#a77a621d5f607ff296ceac51c831a3258">   92</a></span>&#160;<span class="comment"></span>    uint8_t <a class="code" href="../../da/df1/class_threaded_robot.html#a77a621d5f607ff296ceac51c831a3258">arm_state_prev</a>;     <span class="comment">///&lt; @brief Previous status of the four-bar arm subsystem</span></div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#a6ee4298a994be3756ea1821125ab9d57">   93</a></span>&#160;<span class="comment"></span>    uint8_t <a class="code" href="../../da/df1/class_threaded_robot.html#a6ee4298a994be3756ea1821125ab9d57">intake_state_prev</a>;  <span class="comment">///&lt; @brief Previous status of the intake subsystem</span></div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">   94</a></span>&#160;<span class="comment"></span>    uint8_t <a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a>;       <span class="comment">///&lt; @brief Global state machine state</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">   96</a></span>&#160;    <a class="code" href="../../d9/db0/class_drive_train.html">DriveTrain</a>* <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>;          <span class="comment">///&lt; @brief Drivetrain control object</span></div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#afc4445eed32ecc9c375e17ccf4f37241">   97</a></span>&#160;<span class="comment"></span>    <a class="code" href="../../d4/d47/class_arm.html">Arm</a>* <a class="code" href="../../da/df1/class_threaded_robot.html#afc4445eed32ecc9c375e17ccf4f37241">arm</a>;                   <span class="comment">///&lt; @brief Arm control object</span></div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#ac4e32d1373e0d8a887c29378c002783f">   98</a></span>&#160;<span class="comment"></span>    <a class="code" href="../../db/dfd/class_intake.html">Intake</a>* <a class="code" href="../../da/df1/class_threaded_robot.html#ac4e32d1373e0d8a887c29378c002783f">intake</a>;             <span class="comment">///&lt; @brief Intake control object</span></div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#a6dcf388032425561c387f153ea141c79">   99</a></span>&#160;<span class="comment"></span>    <a class="code" href="../../d4/d5e/class_reflectance_sensor.html">ReflectanceSensor</a>* <a class="code" href="../../da/df1/class_threaded_robot.html#a6dcf388032425561c387f153ea141c79">rsensor</a>; <span class="comment">///&lt; @brief Pololu reflectance sensor object</span></div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#ae12c29cb9719f6562f27402f487321e6">  100</a></span>&#160;<span class="comment"></span>    <a class="code" href="../../d9/d1c/class_accelerometer.html">Accelerometer</a>* <a class="code" href="../../da/df1/class_threaded_robot.html#ae12c29cb9719f6562f27402f487321e6">accel</a>;       <span class="comment">///&lt; @brief Adafruit accelerometer</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#a638cd7916d1c1c8a83d15c47a8fe6ef0">  102</a></span>&#160;    uint32_t <a class="code" href="../../da/df1/class_threaded_robot.html#a638cd7916d1c1c8a83d15c47a8fe6ef0">stopped_cnt</a>;       <span class="comment">///&lt; @brief Count how many times the accelerometer thinks we stopped as to avoid error</span></div><div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#a314047099d4d38a60d54cc8b81012c7c">  103</a></span>&#160;<span class="comment"></span>    uint32_t <a class="code" href="../../da/df1/class_threaded_robot.html#a314047099d4d38a60d54cc8b81012c7c">tick_wait</a>;         <span class="comment">///&lt; @brief Count this up until it reaches a value to wait that many ticks</span></div><div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#a857a1c5a3488176bd5a4bafc1b6d1d89">  104</a></span>&#160;<span class="comment"></span>    uint32_t <a class="code" href="../../da/df1/class_threaded_robot.html#a857a1c5a3488176bd5a4bafc1b6d1d89">led_counter</a>;       <span class="comment">///&lt; @brief Used to run the radiation LED alternation</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#a506989a00617c30a8a1930773a0b7d41">  106</a></span>&#160;    uint8_t <a class="code" href="../../da/df1/class_threaded_robot.html#a506989a00617c30a8a1930773a0b7d41">got_data</a>;           <span class="comment">///&lt; @brief If we have necessary bluetooth data</span></div><div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#ac68916b337d845b298d7e66f2f9261d7">  107</a></span>&#160;<span class="comment"></span>    int8_t <a class="code" href="../../da/df1/class_threaded_robot.html#ac68916b337d845b298d7e66f2f9261d7">cur_tube</a>;            <span class="comment">///&lt; @brief Keep track of the current tube</span></div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#a3c2f2358f32ba58846b13e95b3c55527">  108</a></span>&#160;<span class="comment"></span>    int8_t <a class="code" href="../../da/df1/class_threaded_robot.html#a3c2f2358f32ba58846b13e95b3c55527">cur_reactor</a>;         <span class="comment">///&lt; @brief Keep track of the current reactor</span></div><div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#a8d78ef13e34e29ab23aafedcdddc4ae4">  109</a></span>&#160;<span class="comment"></span>    uint8_t <a class="code" href="../../da/df1/class_threaded_robot.html#a8d78ef13e34e29ab23aafedcdddc4ae4">was_on_line</a>;        <span class="comment">///&lt; @brief If we have been on a line already</span></div><div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#aacd340e703b54f0d3568c6c2bed974bf">  110</a></span>&#160;<span class="comment"></span>    uint8_t <a class="code" href="../../da/df1/class_threaded_robot.html#aacd340e703b54f0d3568c6c2bed974bf">lines_to_skip</a>;      <span class="comment">///&lt; @brief How many lines left to skip</span></div><div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#aa895dd29f7418754d4dfb8555572ae31">  111</a></span>&#160;<span class="comment"></span>    uint8_t <a class="code" href="../../da/df1/class_threaded_robot.html#aa895dd29f7418754d4dfb8555572ae31">supply_dir</a>;         <span class="comment">///&lt; @brief Direction we turned for supply rod (0 = left, 1 = right)</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../da/df1/class_threaded_robot.html#ac4f1dd23e0b7ec167c9b80875d06d4c6">step_drive_loop</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../da/df1/class_threaded_robot.html#a2224a8a7536e9ffb7d7a35c57280bddb">step_arm_loop</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../da/df1/class_threaded_robot.html#ab1a8d6c3cc3e2df57701adfa23e1273d">step_intake_loop</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#a4516decdf3303ded4e77fcb2b61b0c5a">  118</a></span>&#160;    <a class="code" href="../../da/df1/class_threaded_robot.html#a4516decdf3303ded4e77fcb2b61b0c5a">ThreadedRobot</a>() : status(<a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a9ba1d31706f568992789685278b59c6b">STATUS_INITIAL</a>), drive_state(<a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#ad8059005f360a46de99b00ca40801fec">SM_DRIVE_REACTOR</a>),</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        arm_state(<a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#ab81e7b2b3227c0de1b76dcfdddb78f75">SM_ARM_UP</a>), intake_state(<a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a1ccedfbf469636f5afc2c68499f826a9">SM_INTAKE_IDLE</a>), global_state(<a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a388ca9e0532aeb38988df56f8226b6f9">STEP__TO_REACTOR</a>),</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        stopped_cnt(0), tick_wait(0), led_counter(0), got_data(0), cur_tube(0), cur_reactor(1),</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        was_on_line(0), lines_to_skip(0) {};</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#a67fb3fb389da8a81de483045806684e5">  123</a></span>&#160;    <a class="code" href="../../da/df1/class_threaded_robot.html#a67fb3fb389da8a81de483045806684e5">~ThreadedRobot</a>() {};</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../da/df1/class_threaded_robot.html#afc27bf260266c249fc7ce2895a20882f">attachMessenger</a>(<a class="code" href="../../d6/dc9/class_messenger.html">Messenger</a>* msngr);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../da/df1/class_threaded_robot.html#a86ab3f2f83958858e47c50004702bba7">attachDrive</a>(<a class="code" href="../../d9/db0/class_drive_train.html">DriveTrain</a>* drive);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../da/df1/class_threaded_robot.html#ab6b42cc3e28dad7823f35afea5ceb4cc">attachArm</a>(<a class="code" href="../../d4/d47/class_arm.html">Arm</a>* arm);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../da/df1/class_threaded_robot.html#a391a0e982563eaea9dbf60b9d63b72da">attachIntake</a>(<a class="code" href="../../db/dfd/class_intake.html">Intake</a>* intake);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../da/df1/class_threaded_robot.html#a51cbd0787fa757506942c0f36780983e">attachReflectanceSensor</a>(<a class="code" href="../../d4/d5e/class_reflectance_sensor.html">ReflectanceSensor</a>* rsensor);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../da/df1/class_threaded_robot.html#a5c9752f8b7d97689f8b5f1c4bf87ad2d">attachAccelerometer</a>(<a class="code" href="../../d9/d1c/class_accelerometer.html">Accelerometer</a>* a);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../da/df1/class_threaded_robot.html#ae5545fb683a84aec9bda34a2c9bba228">stepVirtualThreads</a>(uint64_t micros_elapsed);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;};</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="class_threaded_robot_html_a86ab3f2f83958858e47c50004702bba7"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a86ab3f2f83958858e47c50004702bba7">ThreadedRobot::attachDrive</a></div><div class="ttdeci">void attachDrive(DriveTrain *drive)</div><div class="ttdoc">Attach a DriveTrain to the ThreadedRobot to allow it to control the robot drive train. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3f/_threaded_robot_8cpp_source.html#l00021">ThreadedRobot.cpp:21</a></div></div>
<div class="ttc" id="class_threaded_robot_html_ab1a8d6c3cc3e2df57701adfa23e1273d"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#ab1a8d6c3cc3e2df57701adfa23e1273d">ThreadedRobot::step_intake_loop</a></div><div class="ttdeci">void step_intake_loop(void)</div><div class="ttdoc">Step through the intake control logic. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3f/_threaded_robot_8cpp_source.html#l00487">ThreadedRobot.cpp:487</a></div></div>
<div class="ttc" id="class_threaded_robot_html"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html">ThreadedRobot</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00071">ThreadedRobot.hpp:71</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a6dcf388032425561c387f153ea141c79"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a6dcf388032425561c387f153ea141c79">ThreadedRobot::rsensor</a></div><div class="ttdeci">ReflectanceSensor * rsensor</div><div class="ttdoc">Pololu reflectance sensor object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00099">ThreadedRobot.hpp:99</a></div></div>
<div class="ttc" id="class_drive_train_html"><div class="ttname"><a href="../../d9/db0/class_drive_train.html">DriveTrain</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d2c/_drive_train_8hpp_source.html#l00019">DriveTrain.hpp:19</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a10f3a9d1b27ca8e7a1ada75323c75879"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">ThreadedRobot::status</a></div><div class="ttdeci">uint8_t status</div><div class="ttdoc">Robot status flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00086">ThreadedRobot.hpp:86</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_ab81e7b2b3227c0de1b76dcfdddb78f75"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#ab81e7b2b3227c0de1b76dcfdddb78f75">SM_ARM_UP</a></div><div class="ttdeci">#define SM_ARM_UP</div><div class="ttdoc">Set the arm to its upward position and drive there. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00039">ThreadedRobot.hpp:39</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a388ca9e0532aeb38988df56f8226b6f9"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a388ca9e0532aeb38988df56f8226b6f9">STEP__TO_REACTOR</a></div><div class="ttdeci">#define STEP__TO_REACTOR</div><div class="ttdoc">Get to the current reactor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00049">ThreadedRobot.hpp:49</a></div></div>
<div class="ttc" id="class_threaded_robot_html_aa895dd29f7418754d4dfb8555572ae31"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#aa895dd29f7418754d4dfb8555572ae31">ThreadedRobot::supply_dir</a></div><div class="ttdeci">uint8_t supply_dir</div><div class="ttdoc">Direction we turned for supply rod (0 = left, 1 = right) </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00111">ThreadedRobot.hpp:111</a></div></div>
<div class="ttc" id="class_accelerometer_html"><div class="ttname"><a href="../../d9/d1c/class_accelerometer.html">Accelerometer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0e/_accelerometer_8hpp_source.html#l00019">Accelerometer.hpp:19</a></div></div>
<div class="ttc" id="class_threaded_robot_html_ae12c29cb9719f6562f27402f487321e6"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#ae12c29cb9719f6562f27402f487321e6">ThreadedRobot::accel</a></div><div class="ttdeci">Accelerometer * accel</div><div class="ttdoc">Adafruit accelerometer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00100">ThreadedRobot.hpp:100</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a857a1c5a3488176bd5a4bafc1b6d1d89"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a857a1c5a3488176bd5a4bafc1b6d1d89">ThreadedRobot::led_counter</a></div><div class="ttdeci">uint32_t led_counter</div><div class="ttdoc">Used to run the radiation LED alternation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00104">ThreadedRobot.hpp:104</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a4516decdf3303ded4e77fcb2b61b0c5a"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a4516decdf3303ded4e77fcb2b61b0c5a">ThreadedRobot::ThreadedRobot</a></div><div class="ttdeci">ThreadedRobot()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00118">ThreadedRobot.hpp:118</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a4a4a3eab10c962150bc5194f22d10496"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a4a4a3eab10c962150bc5194f22d10496">ThreadedRobot::drive_state_prev</a></div><div class="ttdeci">uint8_t drive_state_prev</div><div class="ttdoc">Previous status of the drive subsystem. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00091">ThreadedRobot.hpp:91</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a67fb3fb389da8a81de483045806684e5"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a67fb3fb389da8a81de483045806684e5">ThreadedRobot::~ThreadedRobot</a></div><div class="ttdeci">~ThreadedRobot()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00123">ThreadedRobot.hpp:123</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a832f25be64f45ff3297d3da9609a9391"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a832f25be64f45ff3297d3da9609a9391">ThreadedRobot::intake_state</a></div><div class="ttdeci">uint8_t intake_state</div><div class="ttdoc">Status of the intake subsystem. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00090">ThreadedRobot.hpp:90</a></div></div>
<div class="ttc" id="class_messenger_html"><div class="ttname"><a href="../../d6/dc9/class_messenger.html">Messenger</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db0/_messenger_8hpp_source.html#l00018">Messenger.hpp:18</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a506989a00617c30a8a1930773a0b7d41"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a506989a00617c30a8a1930773a0b7d41">ThreadedRobot::got_data</a></div><div class="ttdeci">uint8_t got_data</div><div class="ttdoc">If we have necessary bluetooth data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00106">ThreadedRobot.hpp:106</a></div></div>
<div class="ttc" id="class_reflectance_sensor_html"><div class="ttname"><a href="../../d4/d5e/class_reflectance_sensor.html">ReflectanceSensor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d77/_reflectance_sensor_8hpp_source.html#l00013">ReflectanceSensor.hpp:13</a></div></div>
<div class="ttc" id="class_threaded_robot_html_ac4f1dd23e0b7ec167c9b80875d06d4c6"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#ac4f1dd23e0b7ec167c9b80875d06d4c6">ThreadedRobot::step_drive_loop</a></div><div class="ttdeci">void step_drive_loop(void)</div><div class="ttdoc">Step through the drive control logic. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3f/_threaded_robot_8cpp_source.html#l00105">ThreadedRobot.cpp:105</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a8d78ef13e34e29ab23aafedcdddc4ae4"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a8d78ef13e34e29ab23aafedcdddc4ae4">ThreadedRobot::was_on_line</a></div><div class="ttdeci">uint8_t was_on_line</div><div class="ttdoc">If we have been on a line already. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00109">ThreadedRobot.hpp:109</a></div></div>
<div class="ttc" id="class_intake_html"><div class="ttname"><a href="../../db/dfd/class_intake.html">Intake</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_intake_8hpp_source.html#l00018">Intake.hpp:18</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a77a621d5f607ff296ceac51c831a3258"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a77a621d5f607ff296ceac51c831a3258">ThreadedRobot::arm_state_prev</a></div><div class="ttdeci">uint8_t arm_state_prev</div><div class="ttdoc">Previous status of the four-bar arm subsystem. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00092">ThreadedRobot.hpp:92</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a7ff65f6f18c5d3a9d5823e0a00b46c9f"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">ThreadedRobot::messenger</a></div><div class="ttdeci">Messenger * messenger</div><div class="ttdoc">Pointer to instantiated and configured Messenger. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00073">ThreadedRobot.hpp:73</a></div></div>
<div class="ttc" id="class_threaded_robot_html_aacd340e703b54f0d3568c6c2bed974bf"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#aacd340e703b54f0d3568c6c2bed974bf">ThreadedRobot::lines_to_skip</a></div><div class="ttdeci">uint8_t lines_to_skip</div><div class="ttdoc">How many lines left to skip. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00110">ThreadedRobot.hpp:110</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a2224a8a7536e9ffb7d7a35c57280bddb"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a2224a8a7536e9ffb7d7a35c57280bddb">ThreadedRobot::step_arm_loop</a></div><div class="ttdeci">void step_arm_loop(void)</div><div class="ttdoc">Step through the arm control logic. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3f/_threaded_robot_8cpp_source.html#l00421">ThreadedRobot.cpp:421</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a314047099d4d38a60d54cc8b81012c7c"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a314047099d4d38a60d54cc8b81012c7c">ThreadedRobot::tick_wait</a></div><div class="ttdeci">uint32_t tick_wait</div><div class="ttdoc">Count this up until it reaches a value to wait that many ticks. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00103">ThreadedRobot.hpp:103</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a1ccedfbf469636f5afc2c68499f826a9"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a1ccedfbf469636f5afc2c68499f826a9">SM_INTAKE_IDLE</a></div><div class="ttdeci">#define SM_INTAKE_IDLE</div><div class="ttdoc">Idle the intake (do nothing) </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00042">ThreadedRobot.hpp:42</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a6ee4298a994be3756ea1821125ab9d57"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a6ee4298a994be3756ea1821125ab9d57">ThreadedRobot::intake_state_prev</a></div><div class="ttdeci">uint8_t intake_state_prev</div><div class="ttdoc">Previous status of the intake subsystem. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00093">ThreadedRobot.hpp:93</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a92782be4dc437d7e84b04d20a39a5de3"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">ThreadedRobot::global_state</a></div><div class="ttdeci">uint8_t global_state</div><div class="ttdoc">Global state machine state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00094">ThreadedRobot.hpp:94</a></div></div>
<div class="ttc" id="class_threaded_robot_html_afc27bf260266c249fc7ce2895a20882f"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#afc27bf260266c249fc7ce2895a20882f">ThreadedRobot::attachMessenger</a></div><div class="ttdeci">void attachMessenger(Messenger *msngr)</div><div class="ttdoc">Attach a Messenger to the ThreadedRobot to allow it to recieve bluetooth data and use it for calculat...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3f/_threaded_robot_8cpp_source.html#l00015">ThreadedRobot.cpp:15</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_ad8059005f360a46de99b00ca40801fec"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#ad8059005f360a46de99b00ca40801fec">SM_DRIVE_REACTOR</a></div><div class="ttdeci">#define SM_DRIVE_REACTOR</div><div class="ttdoc">Drive to reactor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00026">ThreadedRobot.hpp:26</a></div></div>
<div class="ttc" id="class_arm_html"><div class="ttname"><a href="../../d4/d47/class_arm.html">Arm</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd6/_arm_8hpp_source.html#l00015">Arm.hpp:15</a></div></div>
<div class="ttc" id="_messenger_8hpp_html"><div class="ttname"><a href="../../d0/db0/_messenger_8hpp.html">Messenger.hpp</a></div><div class="ttdoc">Messenger Header. </div></div>
<div class="ttc" id="class_threaded_robot_html_ac4e32d1373e0d8a887c29378c002783f"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#ac4e32d1373e0d8a887c29378c002783f">ThreadedRobot::intake</a></div><div class="ttdeci">Intake * intake</div><div class="ttdoc">Intake control object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00098">ThreadedRobot.hpp:98</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a19026abe96d44213f7e8b3983be2d968"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a19026abe96d44213f7e8b3983be2d968">ThreadedRobot::arm_state</a></div><div class="ttdeci">uint8_t arm_state</div><div class="ttdoc">Status of the four-bar arm subsystem. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00089">ThreadedRobot.hpp:89</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a5c9752f8b7d97689f8b5f1c4bf87ad2d"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a5c9752f8b7d97689f8b5f1c4bf87ad2d">ThreadedRobot::attachAccelerometer</a></div><div class="ttdeci">void attachAccelerometer(Accelerometer *a)</div><div class="ttdoc">Attach an Accelerometer sensor to the ThreadedRobot to allow it to detect robot motion. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3f/_threaded_robot_8cpp_source.html#l00045">ThreadedRobot.cpp:45</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a0710cfb77cd7024b3c712061f1349443"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a0710cfb77cd7024b3c712061f1349443">robot_disabled</a></div><div class="ttdeci">bool robot_disabled</div><div class="ttdoc">True if the robot is disabled. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00059">ThreadedRobot.hpp:59</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a638cd7916d1c1c8a83d15c47a8fe6ef0"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a638cd7916d1c1c8a83d15c47a8fe6ef0">ThreadedRobot::stopped_cnt</a></div><div class="ttdeci">uint32_t stopped_cnt</div><div class="ttdoc">Count how many times the accelerometer thinks we stopped as to avoid error. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00102">ThreadedRobot.hpp:102</a></div></div>
<div class="ttc" id="class_threaded_robot_html_ad666af7d773c8096210f6b5c4d060086"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">ThreadedRobot::drive</a></div><div class="ttdeci">DriveTrain * drive</div><div class="ttdoc">Drivetrain control object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00096">ThreadedRobot.hpp:96</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a51cbd0787fa757506942c0f36780983e"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a51cbd0787fa757506942c0f36780983e">ThreadedRobot::attachReflectanceSensor</a></div><div class="ttdeci">void attachReflectanceSensor(ReflectanceSensor *rsensor)</div><div class="ttdoc">Attach a ReflectanceSensor sensor to the ThreadedRobot to allow it to detect lines. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3f/_threaded_robot_8cpp_source.html#l00039">ThreadedRobot.cpp:39</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a9ba1d31706f568992789685278b59c6b"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a9ba1d31706f568992789685278b59c6b">STATUS_INITIAL</a></div><div class="ttdeci">#define STATUS_INITIAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00022">ThreadedRobot.hpp:22</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a391a0e982563eaea9dbf60b9d63b72da"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a391a0e982563eaea9dbf60b9d63b72da">ThreadedRobot::attachIntake</a></div><div class="ttdeci">void attachIntake(Intake *intake)</div><div class="ttdoc">Attach an Intake to the ThreadedRobot to allow it to control the robot intake. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3f/_threaded_robot_8cpp_source.html#l00033">ThreadedRobot.cpp:33</a></div></div>
<div class="ttc" id="class_threaded_robot_html_afc4445eed32ecc9c375e17ccf4f37241"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#afc4445eed32ecc9c375e17ccf4f37241">ThreadedRobot::arm</a></div><div class="ttdeci">Arm * arm</div><div class="ttdoc">Arm control object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00097">ThreadedRobot.hpp:97</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a90bb1c48eba85e2acf136982fcfd628e"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a90bb1c48eba85e2acf136982fcfd628e">horiz_line</a></div><div class="ttdeci">bool horiz_line</div><div class="ttdoc">If the main code detected a horizontal line. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/rbe2001_8ino_source.html#l00089">rbe2001.ino:89</a></div></div>
<div class="ttc" id="class_threaded_robot_html_ab6b42cc3e28dad7823f35afea5ceb4cc"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#ab6b42cc3e28dad7823f35afea5ceb4cc">ThreadedRobot::attachArm</a></div><div class="ttdeci">void attachArm(Arm *arm)</div><div class="ttdoc">Attach an Arm to the ThreadedRobot to allow it to control the robot arm. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3f/_threaded_robot_8cpp_source.html#l00027">ThreadedRobot.cpp:27</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a3c2f2358f32ba58846b13e95b3c55527"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a3c2f2358f32ba58846b13e95b3c55527">ThreadedRobot::cur_reactor</a></div><div class="ttdeci">int8_t cur_reactor</div><div class="ttdoc">Keep track of the current reactor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00108">ThreadedRobot.hpp:108</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a8cc4fc4f00ff6566604f9499d427698a"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">ThreadedRobot::drive_state</a></div><div class="ttdeci">uint8_t drive_state</div><div class="ttdoc">Status of the drive subsystem. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00088">ThreadedRobot.hpp:88</a></div></div>
<div class="ttc" id="class_threaded_robot_html_ac68916b337d845b298d7e66f2f9261d7"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#ac68916b337d845b298d7e66f2f9261d7">ThreadedRobot::cur_tube</a></div><div class="ttdeci">int8_t cur_tube</div><div class="ttdoc">Keep track of the current tube. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00107">ThreadedRobot.hpp:107</a></div></div>
<div class="ttc" id="class_threaded_robot_html_ae5545fb683a84aec9bda34a2c9bba228"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#ae5545fb683a84aec9bda34a2c9bba228">ThreadedRobot::stepVirtualThreads</a></div><div class="ttdeci">void stepVirtualThreads(uint64_t micros_elapsed)</div><div class="ttdoc">Step through each component of the robot, giving a pseudo-multithreaded functionality. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3f/_threaded_robot_8cpp_source.html#l00051">ThreadedRobot.cpp:51</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_18043cdea4082d6d3aff76a7097d24bd.html">rbe2001</a></li><li class="navelem"><a class="el" href="../../dir_37fd8b6921baf4d24a43e0afd6e39fe9.html">subsystems</a></li><li class="navelem"><a class="el" href="../../d9/da8/_threaded_robot_8hpp.html">ThreadedRobot.hpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
