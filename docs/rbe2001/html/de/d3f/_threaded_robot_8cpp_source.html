<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WPI RBE 2001 Team 16 Robot Code: rbe2001/subsystems/ThreadedRobot.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">WPI RBE 2001 Team 16 Robot Code
   </div>
   <div id="projectbrief">Arduino code to complete tasks given in RBE 2001.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('de/d3f/_threaded_robot_8cpp_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ThreadedRobot.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../de/d3f/_threaded_robot_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">    Threaded Robot Class</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">    @file ThreadedRobot.cpp</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">    @brief Threaded Robot Class File</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">    @details Manages running all robot functions in a virtual multithreaded environment.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">    @author Mikayla Fischler</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/da8/_threaded_robot_8hpp.html">ThreadedRobot.hpp</a>&quot;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">    @brief Attach a Messenger to the ThreadedRobot to allow it to recieve bluetooth data and use it for calculations.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">    @param[in] msngr A pointer to an instantiated Messenger object</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#afc27bf260266c249fc7ce2895a20882f">   15</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/df1/class_threaded_robot.html#afc27bf260266c249fc7ce2895a20882f">ThreadedRobot::attachMessenger</a>(<a class="code" href="../../d6/dc9/class_messenger.html">Messenger</a>* msngr) { this-&gt;<a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a> = msngr; }</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">    @brief Attach a DriveTrain to the ThreadedRobot to allow it to control the robot drive train.</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">    @param[in] drive A pointer to an instantiated DriveTrain object</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#a86ab3f2f83958858e47c50004702bba7">   21</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/df1/class_threaded_robot.html#a86ab3f2f83958858e47c50004702bba7">ThreadedRobot::attachDrive</a>(<a class="code" href="../../d9/db0/class_drive_train.html">DriveTrain</a>* <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>) { this-&gt;drive = <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>; }</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">    @brief Attach an Arm to the ThreadedRobot to allow it to control the robot arm.</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">    @param[in] arm A pointer to an instantiated Arm object</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#ab6b42cc3e28dad7823f35afea5ceb4cc">   27</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/df1/class_threaded_robot.html#ab6b42cc3e28dad7823f35afea5ceb4cc">ThreadedRobot::attachArm</a>(<a class="code" href="../../d4/d47/class_arm.html">Arm</a>* <a class="code" href="../../da/df1/class_threaded_robot.html#afc4445eed32ecc9c375e17ccf4f37241">arm</a>) { this-&gt;arm = <a class="code" href="../../da/df1/class_threaded_robot.html#afc4445eed32ecc9c375e17ccf4f37241">arm</a>; }</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">    @brief Attach an Intake to the ThreadedRobot to allow it to control the robot intake.</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">    @param[in] intake A pointer to an instantiated Intake object</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#a391a0e982563eaea9dbf60b9d63b72da">   33</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/df1/class_threaded_robot.html#a391a0e982563eaea9dbf60b9d63b72da">ThreadedRobot::attachIntake</a>(<a class="code" href="../../db/dfd/class_intake.html">Intake</a>* <a class="code" href="../../da/df1/class_threaded_robot.html#ac4e32d1373e0d8a887c29378c002783f">intake</a>) { this-&gt;intake = <a class="code" href="../../da/df1/class_threaded_robot.html#ac4e32d1373e0d8a887c29378c002783f">intake</a>; }</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">    @brief Attach a ReflectanceSensor sensor to the ThreadedRobot to allow it to detect lines.</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">    @param[in] rsensor Pointer to an instantiated ReflectanceSensor object.</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#a51cbd0787fa757506942c0f36780983e">   39</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/df1/class_threaded_robot.html#a51cbd0787fa757506942c0f36780983e">ThreadedRobot::attachReflectanceSensor</a>(<a class="code" href="../../d4/d5e/class_reflectance_sensor.html">ReflectanceSensor</a>* <a class="code" href="../../da/df1/class_threaded_robot.html#a6dcf388032425561c387f153ea141c79">rsensor</a>) { this-&gt;rsensor = <a class="code" href="../../da/df1/class_threaded_robot.html#a6dcf388032425561c387f153ea141c79">rsensor</a>; }</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">    @brief Attach an Accelerometer sensor to the ThreadedRobot to allow it to detect robot motion.</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">    @param[in] a Pointer to an instantiated Accelerometer object.</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#a5c9752f8b7d97689f8b5f1c4bf87ad2d">   45</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/df1/class_threaded_robot.html#a5c9752f8b7d97689f8b5f1c4bf87ad2d">ThreadedRobot::attachAccelerometer</a>(<a class="code" href="../../d9/d1c/class_accelerometer.html">Accelerometer</a>* a) { this-&gt;<a class="code" href="../../da/df1/class_threaded_robot.html#ae12c29cb9719f6562f27402f487321e6">accel</a> = a; }</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">    @brief Step through each component of the robot, giving a pseudo-multithreaded functionality.</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">    @details Begins by recieving data from bluetooth if available then updates drive, arm, then gripper.</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#ae5545fb683a84aec9bda34a2c9bba228">   51</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/df1/class_threaded_robot.html#ae5545fb683a84aec9bda34a2c9bba228">ThreadedRobot::stepVirtualThreads</a>(uint64_t micros_elapsed) {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="comment">// step recieving data from the field</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#abdf16b0ba616983f4c4b1895ed937eb2">step_recv</a>();</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="comment">// update radiation LEDs</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#aa07992df20b2aee6d2c4defd8d6b110c">robot</a>()-&gt;<a class="code" href="../../d2/d9e/class_robot_data.html#a8bffbd345dfd74acedd44270133e0477">getRadiationLevel</a>()) {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            <span class="comment">// no radiation</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            digitalWrite(<a class="code" href="../../db/d16/config_8h.html#ae7a4f981c8c2fee871cca8ce6de40436">RAD_LED_0</a>, HIGH);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            digitalWrite(<a class="code" href="../../db/d16/config_8h.html#a4fdb8eb7f018736d83447712b34a6438">RAD_LED_1</a>, HIGH);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="keywordflow">case</span> 1:</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            <span class="comment">// low radiation</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            <a class="code" href="../../da/df1/class_threaded_robot.html#a857a1c5a3488176bd5a4bafc1b6d1d89">led_counter</a> += micros_elapsed;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a857a1c5a3488176bd5a4bafc1b6d1d89">led_counter</a> &lt; 50000) {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                digitalWrite(<a class="code" href="../../db/d16/config_8h.html#ae7a4f981c8c2fee871cca8ce6de40436">RAD_LED_0</a>, HIGH);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                digitalWrite(<a class="code" href="../../db/d16/config_8h.html#a4fdb8eb7f018736d83447712b34a6438">RAD_LED_1</a>, HIGH);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a857a1c5a3488176bd5a4bafc1b6d1d89">led_counter</a> &lt; 100000) {</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                digitalWrite(<a class="code" href="../../db/d16/config_8h.html#ae7a4f981c8c2fee871cca8ce6de40436">RAD_LED_0</a>, LOW);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                digitalWrite(<a class="code" href="../../db/d16/config_8h.html#a4fdb8eb7f018736d83447712b34a6438">RAD_LED_1</a>, LOW);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            } <span class="keywordflow">else</span> { <a class="code" href="../../da/df1/class_threaded_robot.html#a857a1c5a3488176bd5a4bafc1b6d1d89">led_counter</a> = 0; }</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <span class="keywordflow">case</span> 2:</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            <span class="comment">// high radiation</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            <a class="code" href="../../da/df1/class_threaded_robot.html#a857a1c5a3488176bd5a4bafc1b6d1d89">led_counter</a> += micros_elapsed;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a857a1c5a3488176bd5a4bafc1b6d1d89">led_counter</a> &lt; 25000) {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                digitalWrite(<a class="code" href="../../db/d16/config_8h.html#ae7a4f981c8c2fee871cca8ce6de40436">RAD_LED_0</a>, HIGH);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                digitalWrite(<a class="code" href="../../db/d16/config_8h.html#a4fdb8eb7f018736d83447712b34a6438">RAD_LED_1</a>, HIGH);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a857a1c5a3488176bd5a4bafc1b6d1d89">led_counter</a> &lt; 50000) {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                digitalWrite(<a class="code" href="../../db/d16/config_8h.html#ae7a4f981c8c2fee871cca8ce6de40436">RAD_LED_0</a>, LOW);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                digitalWrite(<a class="code" href="../../db/d16/config_8h.html#a4fdb8eb7f018736d83447712b34a6438">RAD_LED_1</a>, LOW);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            } <span class="keywordflow">else</span> { <a class="code" href="../../da/df1/class_threaded_robot.html#a857a1c5a3488176bd5a4bafc1b6d1d89">led_counter</a> = 0; }</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    }</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">// step subsystems if robot is enabled</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a0710cfb77cd7024b3c712061f1349443">robot_disabled</a> = (bool) <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#a2d8c23fd3eada41d734620a600ceca57">field</a>()-&gt;<a class="code" href="../../dc/d7a/class_field_data.html#ab43f0866e57dbdb05d56550a6ab1e8e0">checkMovementDisabled</a>();</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a0710cfb77cd7024b3c712061f1349443">robot_disabled</a>) {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <a class="code" href="../../da/df1/class_threaded_robot.html#ac4f1dd23e0b7ec167c9b80875d06d4c6">step_drive_loop</a>();</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <a class="code" href="../../da/df1/class_threaded_robot.html#a2224a8a7536e9ffb7d7a35c57280bddb">step_arm_loop</a>();</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <a class="code" href="../../da/df1/class_threaded_robot.html#ab1a8d6c3cc3e2df57701adfa23e1273d">step_intake_loop</a>();</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#a18d4c7b82118a1da8910d09a31f88a38">stop</a>();</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <a class="code" href="../../da/df1/class_threaded_robot.html#afc4445eed32ecc9c375e17ccf4f37241">arm</a>-&gt;<a class="code" href="../../d4/d47/class_arm.html#a4a2070a27aecb7129cb89f4c9231278a">stop</a>();</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <a class="code" href="../../da/df1/class_threaded_robot.html#ac4e32d1373e0d8a887c29378c002783f">intake</a>-&gt;<a class="code" href="../../db/dfd/class_intake.html#a3780c5eb8a67c524cc793aaa631ce62e">stop</a>();</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    }</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">/* ~~~ SUBSYSTEM LOOPS ~~~ */</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">    @brief Step through the drive control logic.</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">    @details This code manages the behavior of the drive train and contains the drive state machine.</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#ac4f1dd23e0b7ec167c9b80875d06d4c6">  105</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/df1/class_threaded_robot.html#ac4f1dd23e0b7ec167c9b80875d06d4c6">ThreadedRobot::step_drive_loop</a>(<span class="keywordtype">void</span>) {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="comment">// check if there was an EXTERNAL state change</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> != <a class="code" href="../../da/df1/class_threaded_robot.html#a4a4a3eab10c962150bc5194f22d10496">drive_state_prev</a>) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> |= <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a0bd5b2755ddab25dc7c7f0fd9f907e92">STATUS_DRIVE_FC</a>; <span class="comment">// set first call flag bit to 1</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <a class="code" href="../../da/df1/class_threaded_robot.html#a4a4a3eab10c962150bc5194f22d10496">drive_state_prev</a> = <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a>; <span class="comment">// update prev state so we can detect local change</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a>) {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a660f930e51755e1c2e76220fc1952a82">SM_DRIVE_STOP</a>:</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <span class="comment">// make robot stop</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#a18d4c7b82118a1da8910d09a31f88a38">stop</a>();</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> &amp; <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a0bd5b2755ddab25dc7c7f0fd9f907e92">STATUS_DRIVE_FC</a>) { <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#aa07992df20b2aee6d2c4defd8d6b110c">robot</a>()-&gt;<a class="code" href="../../d2/d9e/class_robot_data.html#a72b1b729501cd7a0620e83c5d4d9a714">setMotionStatus</a>(<a class="code" href="../../db/d16/config_8h.html#a819fd042d57965904b3cc073fd216d7f">MSG_ROBOT_MOVEMENT_STOPPED</a>); }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#ad8059005f360a46de99b00ca40801fec">SM_DRIVE_REACTOR</a>:</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <span class="comment">// set setpoints</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> &amp; STATUS_DRIVE_FC) {</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                <a class="code" href="../../da/df1/class_threaded_robot.html#a638cd7916d1c1c8a83d15c47a8fe6ef0">stopped_cnt</a> = 0;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#aa07992df20b2aee6d2c4defd8d6b110c">robot</a>()-&gt;<a class="code" href="../../d2/d9e/class_robot_data.html#a72b1b729501cd7a0620e83c5d4d9a714">setMotionStatus</a>(<a class="code" href="../../db/d16/config_8h.html#a12bcb79900d7ce0678284ea659f55f87">MSG_ROBOT_MOVEMENT_AUTO</a>);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#aa07992df20b2aee6d2c4defd8d6b110c">robot</a>()-&gt;<a class="code" href="../../d2/d9e/class_robot_data.html#a2676bf89bd178c2a9a38236d936a49c0">setOperationStatus</a>(<a class="code" href="../../db/d16/config_8h.html#a07b36fc0265003a9ba81111a770f1ce9">MSG_ROBOT_OP_DRV_TO_ROD</a>);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a388ca9e0532aeb38988df56f8226b6f9">STEP__TO_REACTOR</a>) {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a3c2f2358f32ba58846b13e95b3c55527">cur_reactor</a> == 1) {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                        <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#a824147fd2c57fe25c0f64a80218ca39e">setSetpoints</a>(<a class="code" href="../../db/d16/config_8h.html#a5c741381c7f5ad8ab6bfc68b314d9544">DRIVE_SP__TO_REACTOR_1</a>, <a class="code" href="../../db/d16/config_8h.html#a5c741381c7f5ad8ab6bfc68b314d9544">DRIVE_SP__TO_REACTOR_1</a>);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                        <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#a824147fd2c57fe25c0f64a80218ca39e">setSetpoints</a>(<a class="code" href="../../db/d16/config_8h.html#aa4b73094139c22971d37a0b1609b791a">DRIVE_SP__REALLY_FAR_FORWARD</a>, <a class="code" href="../../db/d16/config_8h.html#aa4b73094139c22971d37a0b1609b791a">DRIVE_SP__REALLY_FAR_FORWARD</a>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                    }</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a4fc7e302c22b562e209b43ca06b8965d">STEP__TO_REACTOR_RETURN</a>) {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#a824147fd2c57fe25c0f64a80218ca39e">setSetpoints</a>(<a class="code" href="../../db/d16/config_8h.html#aa4b73094139c22971d37a0b1609b791a">DRIVE_SP__REALLY_FAR_FORWARD</a>, <a class="code" href="../../db/d16/config_8h.html#aa4b73094139c22971d37a0b1609b791a">DRIVE_SP__REALLY_FAR_FORWARD</a>);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                }</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <span class="comment">// see if we are almost completly stopped</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#ae12c29cb9719f6562f27402f487321e6">accel</a>-&gt;<a class="code" href="../../d9/d1c/class_accelerometer.html#a88b653a985a23ebbed8916ef5a2cf0af">stopped</a>()) { <a class="code" href="../../da/df1/class_threaded_robot.html#a638cd7916d1c1c8a83d15c47a8fe6ef0">stopped_cnt</a>++; }</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <span class="comment">// check if we hit the reactor</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a638cd7916d1c1c8a83d15c47a8fe6ef0">stopped_cnt</a> &gt; 70) {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                <span class="comment">// robot stopped</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a388ca9e0532aeb38988df56f8226b6f9">STEP__TO_REACTOR</a>) {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a303b885262b38d61b183b975a31fa9f5">STEP__EXTRACT_ROUTINE</a>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a660f930e51755e1c2e76220fc1952a82">SM_DRIVE_STOP</a>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a19026abe96d44213f7e8b3983be2d968">arm_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a696681018aa36726b057d6b82573d620">SM_ARM_DOWN</a>;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a832f25be64f45ff3297d3da9609a9391">intake_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a8e869bc75311ab5b24a7dcd53163d9f5">SM_INTAKE_IN</a>;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#aa07992df20b2aee6d2c4defd8d6b110c">robot</a>()-&gt;<a class="code" href="../../d2/d9e/class_robot_data.html#a2676bf89bd178c2a9a38236d936a49c0">setOperationStatus</a>(<a class="code" href="../../db/d16/config_8h.html#aa54e5b55d86637a2f4b6112f73badfc8">MSG_ROBOT_OP_ATTEMPT_GRP</a>);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a4fc7e302c22b562e209b43ca06b8965d">STEP__TO_REACTOR_RETURN</a>) &amp;&amp; (<a class="code" href="../../da/df1/class_threaded_robot.html#a638cd7916d1c1c8a83d15c47a8fe6ef0">stopped_cnt</a> &gt; 120)) {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#aa746f89a7ab4e61cfe763ca6ad8a2e22">STEP__INSERT_ROUTINE</a>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a660f930e51755e1c2e76220fc1952a82">SM_DRIVE_STOP</a>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a19026abe96d44213f7e8b3983be2d968">arm_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a696681018aa36726b057d6b82573d620">SM_ARM_DOWN</a>;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#aa07992df20b2aee6d2c4defd8d6b110c">robot</a>()-&gt;<a class="code" href="../../d2/d9e/class_robot_data.html#a2676bf89bd178c2a9a38236d936a49c0">setOperationStatus</a>(<a class="code" href="../../db/d16/config_8h.html#ad674f3d1488156b64c1c2ef0826df9af">MSG_ROBOT_OP_RELEASE_GRP</a>);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                <span class="comment">// not stopped</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#ace3dfd00c11b3d001179370c2aa79be4">driveLineGuided</a>();</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a4f6a6e6b703f8b80f5d02968d9595267">SM_DRIVE_FUEL_STORAGE</a>:</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="comment">// set state up</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> &amp; STATUS_DRIVE_FC) {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#a824147fd2c57fe25c0f64a80218ca39e">setSetpoints</a>(<a class="code" href="../../db/d16/config_8h.html#aa4b73094139c22971d37a0b1609b791a">DRIVE_SP__REALLY_FAR_FORWARD</a>, <a class="code" href="../../db/d16/config_8h.html#aa4b73094139c22971d37a0b1609b791a">DRIVE_SP__REALLY_FAR_FORWARD</a>);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                <a class="code" href="../../da/df1/class_threaded_robot.html#a506989a00617c30a8a1930773a0b7d41">got_data</a> = 0;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            }</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <span class="comment">// get field information</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a506989a00617c30a8a1930773a0b7d41">got_data</a> == 0) {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                <a class="code" href="../../da/df1/class_threaded_robot.html#a506989a00617c30a8a1930773a0b7d41">got_data</a> = 1;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                <span class="comment">// determine closest storage tube</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#a2d8c23fd3eada41d734620a600ceca57">field</a>()-&gt;<a class="code" href="../../dc/d7a/class_field_data.html#aace8d0ab4c931b35ab85b71710079459">checkStorageTube</a>(3)) {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#aacd340e703b54f0d3568c6c2bed974bf">lines_to_skip</a> = (<a class="code" href="../../da/df1/class_threaded_robot.html#a3c2f2358f32ba58846b13e95b3c55527">cur_reactor</a> == 1) ? 0 : 3;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#ac68916b337d845b298d7e66f2f9261d7">cur_tube</a> = 3;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#a2d8c23fd3eada41d734620a600ceca57">field</a>()-&gt;<a class="code" href="../../dc/d7a/class_field_data.html#aace8d0ab4c931b35ab85b71710079459">checkStorageTube</a>(2)) {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#aacd340e703b54f0d3568c6c2bed974bf">lines_to_skip</a> = (<a class="code" href="../../da/df1/class_threaded_robot.html#a3c2f2358f32ba58846b13e95b3c55527">cur_reactor</a> == 1) ? 1 : 2;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#ac68916b337d845b298d7e66f2f9261d7">cur_tube</a> = 2;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#a2d8c23fd3eada41d734620a600ceca57">field</a>()-&gt;<a class="code" href="../../dc/d7a/class_field_data.html#aace8d0ab4c931b35ab85b71710079459">checkStorageTube</a>(1)) {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#aacd340e703b54f0d3568c6c2bed974bf">lines_to_skip</a> = (<a class="code" href="../../da/df1/class_threaded_robot.html#a3c2f2358f32ba58846b13e95b3c55527">cur_reactor</a> == 1) ? 2 : 1;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#aacd340e703b54f0d3568c6c2bed974bf">lines_to_skip</a> = 2;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#ac68916b337d845b298d7e66f2f9261d7">cur_tube</a> = 1;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#a2d8c23fd3eada41d734620a600ceca57">field</a>()-&gt;<a class="code" href="../../dc/d7a/class_field_data.html#aace8d0ab4c931b35ab85b71710079459">checkStorageTube</a>(0)) {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#aacd340e703b54f0d3568c6c2bed974bf">lines_to_skip</a> = (<a class="code" href="../../da/df1/class_threaded_robot.html#a3c2f2358f32ba58846b13e95b3c55527">cur_reactor</a> == 1) ? 3 : 0;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#ac68916b337d845b298d7e66f2f9261d7">cur_tube</a> = 0;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                } <span class="keywordflow">else</span> { <a class="code" href="../../da/df1/class_threaded_robot.html#a506989a00617c30a8a1930773a0b7d41">got_data</a> = 0; }</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            <span class="comment">// run PD loop</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#ace3dfd00c11b3d001179370c2aa79be4">driveLineGuided</a>();</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            <span class="comment">// check if reached closest storage tube</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../de/d03/rbe2001_8ino.html#a90bb1c48eba85e2acf136982fcfd628e">horiz_line</a>) {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../da/df1/class_threaded_robot.html#a8d78ef13e34e29ab23aafedcdddc4ae4">was_on_line</a>) {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#aacd340e703b54f0d3568c6c2bed974bf">lines_to_skip</a> == 0) {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                        <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#a18d4c7b82118a1da8910d09a31f88a38">stop</a>();</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                        <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = (<a class="code" href="../../da/df1/class_threaded_robot.html#a3c2f2358f32ba58846b13e95b3c55527">cur_reactor</a> == 1) ? <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a0dfd6ccb0681319880cf03a62262aa43">SM_DRIVE_TURN_LEFT</a> : <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a065168c9946205caff716032d3f26d1b">SM_DRIVE_TURN_RIGHT</a>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                        <a class="code" href="../../da/df1/class_threaded_robot.html#aacd340e703b54f0d3568c6c2bed974bf">lines_to_skip</a>--;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                    }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a8d78ef13e34e29ab23aafedcdddc4ae4">was_on_line</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                <a class="code" href="../../da/df1/class_threaded_robot.html#a8d78ef13e34e29ab23aafedcdddc4ae4">was_on_line</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            }</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a736b22dbab4c41abd3670d0613e9b7b2">SM_DRIVE_FUEL_SUPPLY</a>:</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <span class="comment">// set state up</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> &amp; STATUS_DRIVE_FC) { <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#a824147fd2c57fe25c0f64a80218ca39e">setSetpoints</a>(<a class="code" href="../../db/d16/config_8h.html#aa4b73094139c22971d37a0b1609b791a">DRIVE_SP__REALLY_FAR_FORWARD</a>, <a class="code" href="../../db/d16/config_8h.html#aa4b73094139c22971d37a0b1609b791a">DRIVE_SP__REALLY_FAR_FORWARD</a>); }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <span class="comment">// run PD loop</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#ace3dfd00c11b3d001179370c2aa79be4">driveLineGuided</a>();</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            <span class="comment">// check if reached closest supply tube</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../de/d03/rbe2001_8ino.html#a90bb1c48eba85e2acf136982fcfd628e">horiz_line</a>) {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../da/df1/class_threaded_robot.html#a8d78ef13e34e29ab23aafedcdddc4ae4">was_on_line</a>) {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#aacd340e703b54f0d3568c6c2bed974bf">lines_to_skip</a> == 0) {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                        <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#a18d4c7b82118a1da8910d09a31f88a38">stop</a>();</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                        <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = (<a class="code" href="../../da/df1/class_threaded_robot.html#aa895dd29f7418754d4dfb8555572ae31">supply_dir</a> == 0) ? <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a0dfd6ccb0681319880cf03a62262aa43">SM_DRIVE_TURN_LEFT</a> : <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a065168c9946205caff716032d3f26d1b">SM_DRIVE_TURN_RIGHT</a>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                        <a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a037aff3c57462898ffb71a1a0f8096a1">STEP__TO_SUPPLY</a>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                        <a class="code" href="../../da/df1/class_threaded_robot.html#aacd340e703b54f0d3568c6c2bed974bf">lines_to_skip</a>--;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                    }</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a8d78ef13e34e29ab23aafedcdddc4ae4">was_on_line</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                }</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                <a class="code" href="../../da/df1/class_threaded_robot.html#a8d78ef13e34e29ab23aafedcdddc4ae4">was_on_line</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            }</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a15a3a8b9bc4c8d83aea6b4f8d9fe78a9">SM_DRIVE_FUEL_DEPOSIT_RETRIEVE</a>:</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="comment">// set state up</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> &amp; STATUS_DRIVE_FC) { <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#a824147fd2c57fe25c0f64a80218ca39e">setSetpoints</a>(<a class="code" href="../../db/d16/config_8h.html#a0f83a1b66087ca5c101726ba5ee04c6b">DRIVE_SP__CENTER_TO_WALLS</a>, <a class="code" href="../../db/d16/config_8h.html#a0f83a1b66087ca5c101726ba5ee04c6b">DRIVE_SP__CENTER_TO_WALLS</a>); }</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="comment">// drive!</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#ace3dfd00c11b3d001179370c2aa79be4">driveLineGuided</a>();</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="comment">// check if we hit the wall</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <span class="keywordflow">if</span> (!digitalRead(<a class="code" href="../../db/d16/config_8h.html#a7ef7bc399facc7d13a89e760d2c22449">GUIDE_SWITCH</a>)) {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                <span class="comment">// &quot;I hit a wall&quot; -Rihanna (https://www.youtube.com/watch?v=BXhIT4MpRis)</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a660f930e51755e1c2e76220fc1952a82">SM_DRIVE_STOP</a>;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#ac43f0de8273a3d7db6116817ea05b953">STEP__TO_STORAGE</a>) {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#aa07992df20b2aee6d2c4defd8d6b110c">robot</a>()-&gt;<a class="code" href="../../d2/d9e/class_robot_data.html#a2676bf89bd178c2a9a38236d936a49c0">setOperationStatus</a>(<a class="code" href="../../db/d16/config_8h.html#ad674f3d1488156b64c1c2ef0826df9af">MSG_ROBOT_OP_RELEASE_GRP</a>);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a832f25be64f45ff3297d3da9609a9391">intake_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#aee99598bb6301112885aebf03222896f">SM_INTAKE_EJECT</a>;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a037aff3c57462898ffb71a1a0f8096a1">STEP__TO_SUPPLY</a>) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#aa07992df20b2aee6d2c4defd8d6b110c">robot</a>()-&gt;<a class="code" href="../../d2/d9e/class_robot_data.html#a2676bf89bd178c2a9a38236d936a49c0">setOperationStatus</a>(<a class="code" href="../../db/d16/config_8h.html#aa54e5b55d86637a2f4b6112f73badfc8">MSG_ROBOT_OP_ATTEMPT_GRP</a>);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a832f25be64f45ff3297d3da9609a9391">intake_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a8e869bc75311ab5b24a7dcd53163d9f5">SM_INTAKE_IN</a>;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            }</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#aabc19201dab2e84504bcafcbb24015ab">SM_DRIVE_WALL_RETREAT</a>:</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="comment">// set state up</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> &amp; STATUS_DRIVE_FC) { <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#a824147fd2c57fe25c0f64a80218ca39e">setSetpoints</a>(<a class="code" href="../../db/d16/config_8h.html#ab454d72cc697391771c5024a1da12f9f">DRIVE_SP__RETREAT_FROM_WALLS</a>, <a class="code" href="../../db/d16/config_8h.html#ab454d72cc697391771c5024a1da12f9f">DRIVE_SP__RETREAT_FROM_WALLS</a>); }</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="comment">// drive!</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#ace3dfd00c11b3d001179370c2aa79be4">driveLineGuided</a>();</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="comment">// check if we are where we need to be then turn around</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#a3817b51633041e331de658be05396ec9">nearSetpoints</a>(0.5, 0.5)) {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#ac43f0de8273a3d7db6116817ea05b953">STEP__TO_STORAGE</a>) {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#aa07992df20b2aee6d2c4defd8d6b110c">robot</a>()-&gt;<a class="code" href="../../d2/d9e/class_robot_data.html#a330b0e4fa0303df4a16b8c07e917c622">setRadiationLevel</a>(0);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#aa07992df20b2aee6d2c4defd8d6b110c">robot</a>()-&gt;<a class="code" href="../../d2/d9e/class_robot_data.html#a2676bf89bd178c2a9a38236d936a49c0">setOperationStatus</a>(<a class="code" href="../../db/d16/config_8h.html#a1123cbadb4fa69b79c47a7b9fb75c172">MSG_ROBOT_OP_DRV_TO_SUPL</a>);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#a2d8c23fd3eada41d734620a600ceca57">field</a>()-&gt;<a class="code" href="../../dc/d7a/class_field_data.html#a645f5d698b0048e4aa718327a5e1550a">checkSupplyTube</a>(<a class="code" href="../../da/df1/class_threaded_robot.html#ac68916b337d845b298d7e66f2f9261d7">cur_tube</a>)) {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                        <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#aac0c6c5f2a3a9106b067d6964c467a1e">SM_DRIVE_TURN_180</a>;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                        <a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a26c2a122486872fb524e51b3040a6dc5">STEP__TO_SUPPLY_NAV</a>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                        <span class="comment">// check supply tubes, nearest to farthest away</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; 4; i++) {</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                            <span class="keywordflow">if</span> ((<a class="code" href="../../da/df1/class_threaded_robot.html#ac68916b337d845b298d7e66f2f9261d7">cur_tube</a> - i &gt;= 0) &amp;&amp; <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#a2d8c23fd3eada41d734620a600ceca57">field</a>()-&gt;<a class="code" href="../../dc/d7a/class_field_data.html#a645f5d698b0048e4aa718327a5e1550a">checkSupplyTube</a>(<a class="code" href="../../da/df1/class_threaded_robot.html#ac68916b337d845b298d7e66f2f9261d7">cur_tube</a> - i)) {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                                <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a0dfd6ccb0681319880cf03a62262aa43">SM_DRIVE_TURN_LEFT</a>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                                <a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a26c2a122486872fb524e51b3040a6dc5">STEP__TO_SUPPLY_NAV</a>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                                <a class="code" href="../../da/df1/class_threaded_robot.html#aacd340e703b54f0d3568c6c2bed974bf">lines_to_skip</a> = i - 1;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                                <a class="code" href="../../da/df1/class_threaded_robot.html#aa895dd29f7418754d4dfb8555572ae31">supply_dir</a> = 0;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="../../da/df1/class_threaded_robot.html#ac68916b337d845b298d7e66f2f9261d7">cur_tube</a> + i &gt;= 0) &amp;&amp; <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#a2d8c23fd3eada41d734620a600ceca57">field</a>()-&gt;<a class="code" href="../../dc/d7a/class_field_data.html#a645f5d698b0048e4aa718327a5e1550a">checkSupplyTube</a>(<a class="code" href="../../da/df1/class_threaded_robot.html#ac68916b337d845b298d7e66f2f9261d7">cur_tube</a> + i)) {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                                <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a065168c9946205caff716032d3f26d1b">SM_DRIVE_TURN_RIGHT</a>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                                <a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a26c2a122486872fb524e51b3040a6dc5">STEP__TO_SUPPLY_NAV</a>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                                <a class="code" href="../../da/df1/class_threaded_robot.html#aacd340e703b54f0d3568c6c2bed974bf">lines_to_skip</a> = i - 1;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                                <a class="code" href="../../da/df1/class_threaded_robot.html#aa895dd29f7418754d4dfb8555572ae31">supply_dir</a> = 1;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                            }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                        }</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                    }</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a037aff3c57462898ffb71a1a0f8096a1">STEP__TO_SUPPLY</a>) {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#aa07992df20b2aee6d2c4defd8d6b110c">robot</a>()-&gt;<a class="code" href="../../d2/d9e/class_robot_data.html#a2676bf89bd178c2a9a38236d936a49c0">setOperationStatus</a>(<a class="code" href="../../db/d16/config_8h.html#a07b36fc0265003a9ba81111a770f1ce9">MSG_ROBOT_OP_DRV_TO_ROD</a>);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a4fc7e302c22b562e209b43ca06b8965d">STEP__TO_REACTOR_RETURN</a>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = (<a class="code" href="../../da/df1/class_threaded_robot.html#a3c2f2358f32ba58846b13e95b3c55527">cur_reactor</a> == 1) ? <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a065168c9946205caff716032d3f26d1b">SM_DRIVE_TURN_RIGHT</a> : <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a0dfd6ccb0681319880cf03a62262aa43">SM_DRIVE_TURN_LEFT</a>;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            }</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a59b73e9a00ed2ca9fbfc22a25281ab9f">SM_DRIVE_REACTOR_LOAD_RETREAT</a>:</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <span class="comment">// set state up</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> &amp; STATUS_DRIVE_FC) {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#a824147fd2c57fe25c0f64a80218ca39e">setSetpoints</a>(<a class="code" href="../../db/d16/config_8h.html#a3972e338f33c1f5ec5e89feac6d90ff0">DRIVE_SP__REACTOR_RETREAT_WITH_FUEL</a>, <a class="code" href="../../db/d16/config_8h.html#a3972e338f33c1f5ec5e89feac6d90ff0">DRIVE_SP__REACTOR_RETREAT_WITH_FUEL</a>);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                <a class="code" href="../../da/df1/class_threaded_robot.html#a19026abe96d44213f7e8b3983be2d968">arm_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#ab81e7b2b3227c0de1b76dcfdddb78f75">SM_ARM_UP</a>;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            }</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <span class="comment">// run the PD loop</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <span class="comment">// drive-&gt;driveLineGuided();</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#a53087c84c085d1f06b06d2e191e34882">drive</a>();</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            <span class="comment">// check if we are where we need to be then turn around</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#a3817b51633041e331de658be05396ec9">nearSetpoints</a>(0.5, 0.5)) {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                <span class="comment">// turn 180 degrees to get to storage</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#aa746f89a7ab4e61cfe763ca6ad8a2e22">STEP__INSERT_ROUTINE</a>) {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a3c2f2358f32ba58846b13e95b3c55527">cur_reactor</a> &gt; 2) {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                        <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a660f930e51755e1c2e76220fc1952a82">SM_DRIVE_STOP</a>;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                        <a class="code" href="../../da/df1/class_threaded_robot.html#a19026abe96d44213f7e8b3983be2d968">arm_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a96fec3d4c162b9ffe5c1c5847c58f1d9">SM_ARM_IDLE</a>;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                        <a class="code" href="../../da/df1/class_threaded_robot.html#a832f25be64f45ff3297d3da9609a9391">intake_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a1ccedfbf469636f5afc2c68499f826a9">SM_INTAKE_IDLE</a>;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                        <a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a388ca9e0532aeb38988df56f8226b6f9">STEP__TO_REACTOR</a>;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                        <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#adac605b3f05fb0b3166eddf6bffeaae2">SM_DRIVE_TURN_FROM_REACTOR</a>;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                    }</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#ac43f0de8273a3d7db6116817ea05b953">STEP__TO_STORAGE</a>;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#adac605b3f05fb0b3166eddf6bffeaae2">SM_DRIVE_TURN_FROM_REACTOR</a>;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            }</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#adac605b3f05fb0b3166eddf6bffeaae2">SM_DRIVE_TURN_FROM_REACTOR</a>:</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <span class="comment">// set the turn</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> &amp; STATUS_DRIVE_FC) { <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#abaf93133223369df521ba2c8bcfea09d">setTurnSetpoint</a>(160); }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            <span class="comment">// run the PD loop with line following correction</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#af7e515735f07964fdf42e79bf822e3d1">driveTurn</a>();</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            <span class="comment">// if done, move on to next step</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#ab3b73991a0be9e840d3e4903d41dadec">turned</a>()) {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#ac43f0de8273a3d7db6116817ea05b953">STEP__TO_STORAGE</a>) {</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                    <span class="comment">// we need to drive to the proper storage</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a4f6a6e6b703f8b80f5d02968d9595267">SM_DRIVE_FUEL_STORAGE</a>;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a388ca9e0532aeb38988df56f8226b6f9">STEP__TO_REACTOR</a>) {</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                    <span class="comment">// drive to reactor</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#ad8059005f360a46de99b00ca40801fec">SM_DRIVE_REACTOR</a>;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                }</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            }</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a0dfd6ccb0681319880cf03a62262aa43">SM_DRIVE_TURN_LEFT</a>:</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <span class="comment">// set the turned</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> &amp; STATUS_DRIVE_FC) { <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#abaf93133223369df521ba2c8bcfea09d">setTurnSetpoint</a>(-90); }</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="comment">// run the PD loop with line following correction</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#af7e515735f07964fdf42e79bf822e3d1">driveTurn</a>();</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            <span class="comment">// if done, move on to next step</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#ab3b73991a0be9e840d3e4903d41dadec">turned</a>()) {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#ac43f0de8273a3d7db6116817ea05b953">STEP__TO_STORAGE</a>) {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                    <span class="comment">// we need to drive to the proper storage</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a15a3a8b9bc4c8d83aea6b4f8d9fe78a9">SM_DRIVE_FUEL_DEPOSIT_RETRIEVE</a>;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a26c2a122486872fb524e51b3040a6dc5">STEP__TO_SUPPLY_NAV</a>) {</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                    <span class="comment">// drive to supply</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a736b22dbab4c41abd3670d0613e9b7b2">SM_DRIVE_FUEL_SUPPLY</a>;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a037aff3c57462898ffb71a1a0f8096a1">STEP__TO_SUPPLY</a>) {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                    <span class="comment">// drive to supply</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a15a3a8b9bc4c8d83aea6b4f8d9fe78a9">SM_DRIVE_FUEL_DEPOSIT_RETRIEVE</a>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a4fc7e302c22b562e209b43ca06b8965d">STEP__TO_REACTOR_RETURN</a>) {</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                    <span class="comment">// drive back to the reactor</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#ad8059005f360a46de99b00ca40801fec">SM_DRIVE_REACTOR</a>;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                }</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            }</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a065168c9946205caff716032d3f26d1b">SM_DRIVE_TURN_RIGHT</a>:</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            <span class="comment">// set the turned</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> &amp; STATUS_DRIVE_FC) { <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#abaf93133223369df521ba2c8bcfea09d">setTurnSetpoint</a>(90); }</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            <span class="comment">// run the PD loop with line following correction</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#af7e515735f07964fdf42e79bf822e3d1">driveTurn</a>();</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            <span class="comment">// if done, move on to next step</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#ab3b73991a0be9e840d3e4903d41dadec">turned</a>()) {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#ac43f0de8273a3d7db6116817ea05b953">STEP__TO_STORAGE</a>) {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                    <span class="comment">// we need to drive to the proper storage</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a15a3a8b9bc4c8d83aea6b4f8d9fe78a9">SM_DRIVE_FUEL_DEPOSIT_RETRIEVE</a>;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a26c2a122486872fb524e51b3040a6dc5">STEP__TO_SUPPLY_NAV</a>) {</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                    <span class="comment">// drive to supply</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a736b22dbab4c41abd3670d0613e9b7b2">SM_DRIVE_FUEL_SUPPLY</a>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a037aff3c57462898ffb71a1a0f8096a1">STEP__TO_SUPPLY</a>) {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                    <span class="comment">// drive to supply</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a15a3a8b9bc4c8d83aea6b4f8d9fe78a9">SM_DRIVE_FUEL_DEPOSIT_RETRIEVE</a>;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a4fc7e302c22b562e209b43ca06b8965d">STEP__TO_REACTOR_RETURN</a>) {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                    <span class="comment">// drive back to the reactor</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#ad8059005f360a46de99b00ca40801fec">SM_DRIVE_REACTOR</a>;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                }</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            }</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#aac0c6c5f2a3a9106b067d6964c467a1e">SM_DRIVE_TURN_180</a>:</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <span class="comment">// set the turned</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> &amp; STATUS_DRIVE_FC) { <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#abaf93133223369df521ba2c8bcfea09d">setTurnSetpoint</a>(180); }</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <span class="comment">// run the PD loop with line following correction</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#af7e515735f07964fdf42e79bf822e3d1">driveTurn</a>();</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            <span class="comment">// if done, move on to next step</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">drive</a>-&gt;<a class="code" href="../../d9/db0/class_drive_train.html#ab3b73991a0be9e840d3e4903d41dadec">turned</a>()) {</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a037aff3c57462898ffb71a1a0f8096a1">STEP__TO_SUPPLY</a>) {</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                    <span class="comment">// we need to drive to the proper storage</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a15a3a8b9bc4c8d83aea6b4f8d9fe78a9">SM_DRIVE_FUEL_DEPOSIT_RETRIEVE</a>;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                }</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            }</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a660f930e51755e1c2e76220fc1952a82">SM_DRIVE_STOP</a>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    }</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="comment">// if we just ran a first call</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> &amp; <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a0bd5b2755ddab25dc7c7f0fd9f907e92">STATUS_DRIVE_FC</a>) {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> &amp;= !<a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a0bd5b2755ddab25dc7c7f0fd9f907e92">STATUS_DRIVE_FC</a>; <span class="comment">// set first call flag bit to 0</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="comment">// check if we manually changed states in THIS loop</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a4a4a3eab10c962150bc5194f22d10496">drive_state_prev</a> != <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a>) {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> |= <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a0bd5b2755ddab25dc7c7f0fd9f907e92">STATUS_DRIVE_FC</a>; <span class="comment">// set first call flag bit to 1</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    }</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="../../da/df1/class_threaded_robot.html#a4a4a3eab10c962150bc5194f22d10496">drive_state_prev</a> = <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a>;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;}</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">    @brief Step through the arm control logic.</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">    @details This loop manages the behavior of the arm based on situational assumptions from information in the status byte.&lt;br&gt;</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">        Coorinates often with the intake subsystem state machine.</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00421"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#a2224a8a7536e9ffb7d7a35c57280bddb">  421</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/df1/class_threaded_robot.html#a2224a8a7536e9ffb7d7a35c57280bddb">ThreadedRobot::step_arm_loop</a>(<span class="keywordtype">void</span>) {</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="comment">// check if there was an external state change</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a19026abe96d44213f7e8b3983be2d968">arm_state</a> != <a class="code" href="../../da/df1/class_threaded_robot.html#a77a621d5f607ff296ceac51c831a3258">arm_state_prev</a>) {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> |= <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#af64a9cac77953e37e9facd5f39a41ea6">STATUS_ARM_FC</a>; <span class="comment">// set first call flag bit to 1</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    }</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="comment">// behavior based on arm state and global state</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a19026abe96d44213f7e8b3983be2d968">arm_state</a>) {</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a96fec3d4c162b9ffe5c1c5847c58f1d9">SM_ARM_IDLE</a>:</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            <span class="comment">// do nothing</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <a class="code" href="../../da/df1/class_threaded_robot.html#afc4445eed32ecc9c375e17ccf4f37241">arm</a>-&gt;<a class="code" href="../../d4/d47/class_arm.html#a4a2070a27aecb7129cb89f4c9231278a">stop</a>();</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a17eb65c231c0816f2929a40e1af28a8a">SM_ARM_HOLD</a>:</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <span class="comment">// hold the setpoint</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <a class="code" href="../../da/df1/class_threaded_robot.html#afc4445eed32ecc9c375e17ccf4f37241">arm</a>-&gt;<a class="code" href="../../d4/d47/class_arm.html#a8cd24cca4215a944bd47df13e252e8a0">runToSetpoint</a>();</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#ab81e7b2b3227c0de1b76dcfdddb78f75">SM_ARM_UP</a>:</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <span class="comment">// check if first call, if so, set setpoint</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> &amp; <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#af64a9cac77953e37e9facd5f39a41ea6">STATUS_ARM_FC</a>) { <a class="code" href="../../da/df1/class_threaded_robot.html#afc4445eed32ecc9c375e17ccf4f37241">arm</a>-&gt;<a class="code" href="../../d4/d47/class_arm.html#a331502c3508a7d8137d9405f050ecbbf">setSetpoint</a>(<a class="code" href="../../db/d16/config_8h.html#a5802759eadaedbee1fad0989f746e940">ARM_UP</a>); }</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            <span class="comment">// go to the setpoint</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            <span class="comment">// &quot;you raise me upppp&quot; https://www.youtube.com/watch?v=meAT7-82e_g</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            <a class="code" href="../../da/df1/class_threaded_robot.html#afc4445eed32ecc9c375e17ccf4f37241">arm</a>-&gt;<a class="code" href="../../d4/d47/class_arm.html#a8cd24cca4215a944bd47df13e252e8a0">runToSetpoint</a>();</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            <span class="comment">// if done, hold</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#afc4445eed32ecc9c375e17ccf4f37241">arm</a>-&gt;<a class="code" href="../../d4/d47/class_arm.html#a392a83624fdebcb6269695c3600e6c90">nearSetpoint</a>(1.0)) { <a class="code" href="../../da/df1/class_threaded_robot.html#a19026abe96d44213f7e8b3983be2d968">arm_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a17eb65c231c0816f2929a40e1af28a8a">SM_ARM_HOLD</a>; }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a696681018aa36726b057d6b82573d620">SM_ARM_DOWN</a>:</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            <span class="comment">// check if first call, if so, set setpoint</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> &amp; STATUS_ARM_FC) {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a4fc7e302c22b562e209b43ca06b8965d">STEP__TO_REACTOR_RETURN</a>) {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#afc4445eed32ecc9c375e17ccf4f37241">arm</a>-&gt;<a class="code" href="../../d4/d47/class_arm.html#a331502c3508a7d8137d9405f050ecbbf">setSetpoint</a>(<a class="code" href="../../db/d16/config_8h.html#a02a32dc793fb0f35a9e3042d1c2811d8">ARM_DOWN_DELIVER</a>);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                } <span class="keywordflow">else</span> { <a class="code" href="../../da/df1/class_threaded_robot.html#afc4445eed32ecc9c375e17ccf4f37241">arm</a>-&gt;<a class="code" href="../../d4/d47/class_arm.html#a331502c3508a7d8137d9405f050ecbbf">setSetpoint</a>(<a class="code" href="../../db/d16/config_8h.html#a324de4e71a26bebce744eab8027af4d6">ARM_DOWN_FULL</a>); }</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            }</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            <span class="comment">// go to the setpoint</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            <a class="code" href="../../da/df1/class_threaded_robot.html#afc4445eed32ecc9c375e17ccf4f37241">arm</a>-&gt;<a class="code" href="../../d4/d47/class_arm.html#a8cd24cca4215a944bd47df13e252e8a0">runToSetpoint</a>();</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            <span class="comment">// if done, hold</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#afc4445eed32ecc9c375e17ccf4f37241">arm</a>-&gt;<a class="code" href="../../d4/d47/class_arm.html#a392a83624fdebcb6269695c3600e6c90">nearSetpoint</a>(1.0)) {</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                <a class="code" href="../../da/df1/class_threaded_robot.html#a19026abe96d44213f7e8b3983be2d968">arm_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a17eb65c231c0816f2929a40e1af28a8a">SM_ARM_HOLD</a>;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                <span class="comment">// eject rod if refueling reactor</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#aa746f89a7ab4e61cfe763ca6ad8a2e22">STEP__INSERT_ROUTINE</a>) { <a class="code" href="../../da/df1/class_threaded_robot.html#a832f25be64f45ff3297d3da9609a9391">intake_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#aee99598bb6301112885aebf03222896f">SM_INTAKE_EJECT</a>; }</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            }</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    }</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="comment">// if we just ran a first call</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> &amp; <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#af64a9cac77953e37e9facd5f39a41ea6">STATUS_ARM_FC</a>) {</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> &amp;= !<a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#af64a9cac77953e37e9facd5f39a41ea6">STATUS_ARM_FC</a>; <span class="comment">// set first call flag bit to 0</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    }</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="comment">// check if we manually changed states in THIS loop</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a77a621d5f607ff296ceac51c831a3258">arm_state_prev</a> != <a class="code" href="../../da/df1/class_threaded_robot.html#a19026abe96d44213f7e8b3983be2d968">arm_state</a>) {</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> |= <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#af64a9cac77953e37e9facd5f39a41ea6">STATUS_ARM_FC</a>; <span class="comment">// set first call flag bit to 1</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    }</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <a class="code" href="../../da/df1/class_threaded_robot.html#a77a621d5f607ff296ceac51c831a3258">arm_state_prev</a> = <a class="code" href="../../da/df1/class_threaded_robot.html#a19026abe96d44213f7e8b3983be2d968">arm_state</a>;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;}</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">    @brief Step through the intake control logic.</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">    @details This loop manages the behavior of the intake based on situational assumptions from information in the status byte.&lt;br&gt;</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">        Coorinates often with the arm and drive subsystem state machines.</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00487"></a><span class="lineno"><a class="line" href="../../da/df1/class_threaded_robot.html#ab1a8d6c3cc3e2df57701adfa23e1273d">  487</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/df1/class_threaded_robot.html#ab1a8d6c3cc3e2df57701adfa23e1273d">ThreadedRobot::step_intake_loop</a>(<span class="keywordtype">void</span>) {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="comment">// check if there was an external state change</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a832f25be64f45ff3297d3da9609a9391">intake_state</a> != <a class="code" href="../../da/df1/class_threaded_robot.html#a6ee4298a994be3756ea1821125ab9d57">intake_state_prev</a>) {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> |= <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a11f08cf179cbed14133b5202e4b3d08d">STATUS_INTAKE_FC</a>; <span class="comment">// set first call flag bit to 1</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    }</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a832f25be64f45ff3297d3da9609a9391">intake_state</a>) {</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a1ccedfbf469636f5afc2c68499f826a9">SM_INTAKE_IDLE</a>:</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            <span class="comment">// do nothing</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            <a class="code" href="../../da/df1/class_threaded_robot.html#ac4e32d1373e0d8a887c29378c002783f">intake</a>-&gt;<a class="code" href="../../db/dfd/class_intake.html#a3780c5eb8a67c524cc793aaa631ce62e">stop</a>();</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#afbbce27f2ad74e23a17117134f66f94f">SM_INTAKE_HOLD</a>:</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            <span class="comment">// hold the rod in, if it slips out, pull it back in</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../da/df1/class_threaded_robot.html#ac4e32d1373e0d8a887c29378c002783f">intake</a>-&gt;<a class="code" href="../../db/dfd/class_intake.html#ae9bf8ae8ebed0f1ba36443373eb0ae63">switchHit</a>()) { <a class="code" href="../../da/df1/class_threaded_robot.html#ac4e32d1373e0d8a887c29378c002783f">intake</a>-&gt;<a class="code" href="../../db/dfd/class_intake.html#a4c1e0e346839bb294065ae5da7117df0">slowIn</a>(); } <span class="keywordflow">else</span> { <a class="code" href="../../da/df1/class_threaded_robot.html#ac4e32d1373e0d8a887c29378c002783f">intake</a>-&gt;<a class="code" href="../../db/dfd/class_intake.html#a3780c5eb8a67c524cc793aaa631ce62e">stop</a>(); }</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a8e869bc75311ab5b24a7dcd53163d9f5">SM_INTAKE_IN</a>:</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            <span class="comment">// pull in the rod</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            <a class="code" href="../../da/df1/class_threaded_robot.html#ac4e32d1373e0d8a887c29378c002783f">intake</a>-&gt;<a class="code" href="../../db/dfd/class_intake.html#a8582bcb135b9700923940a7b44d233ef">fullIn</a>();</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <span class="comment">// hold if got it</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#ac4e32d1373e0d8a887c29378c002783f">intake</a>-&gt;<a class="code" href="../../db/dfd/class_intake.html#ae9bf8ae8ebed0f1ba36443373eb0ae63">switchHit</a>()) {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                <a class="code" href="../../da/df1/class_threaded_robot.html#a832f25be64f45ff3297d3da9609a9391">intake_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#afbbce27f2ad74e23a17117134f66f94f">SM_INTAKE_HOLD</a>;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#aa07992df20b2aee6d2c4defd8d6b110c">robot</a>()-&gt;<a class="code" href="../../d2/d9e/class_robot_data.html#aa115713d34966f38642357eba5543f16">setGripperStatus</a>(<a class="code" href="../../db/d16/config_8h.html#a5bc0e4abb054ebb8d2a4dbc39b1fa4e2">MSG_ROBOT_GRIPPER_ROD</a>);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                <span class="comment">// check if we just extracted from reactor, if so, back away and lift arm</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a303b885262b38d61b183b975a31fa9f5">STEP__EXTRACT_ROUTINE</a>) {</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#aa07992df20b2aee6d2c4defd8d6b110c">robot</a>()-&gt;<a class="code" href="../../d2/d9e/class_robot_data.html#a330b0e4fa0303df4a16b8c07e917c622">setRadiationLevel</a>(1);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#aa07992df20b2aee6d2c4defd8d6b110c">robot</a>()-&gt;<a class="code" href="../../d2/d9e/class_robot_data.html#a2676bf89bd178c2a9a38236d936a49c0">setOperationStatus</a>(<a class="code" href="../../db/d16/config_8h.html#a48248df01840ec515c1288dfbc0323ed">MSG_ROBOT_OP_DRV_TO_STOR</a>);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a19026abe96d44213f7e8b3983be2d968">arm_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#ab81e7b2b3227c0de1b76dcfdddb78f75">SM_ARM_UP</a>;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a59b73e9a00ed2ca9fbfc22a25281ab9f">SM_DRIVE_REACTOR_LOAD_RETREAT</a>;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a037aff3c57462898ffb71a1a0f8096a1">STEP__TO_SUPPLY</a>) {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#aa07992df20b2aee6d2c4defd8d6b110c">robot</a>()-&gt;<a class="code" href="../../d2/d9e/class_robot_data.html#a330b0e4fa0303df4a16b8c07e917c622">setRadiationLevel</a>(2);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#aa07992df20b2aee6d2c4defd8d6b110c">robot</a>()-&gt;<a class="code" href="../../d2/d9e/class_robot_data.html#a2676bf89bd178c2a9a38236d936a49c0">setOperationStatus</a>(<a class="code" href="../../db/d16/config_8h.html#a48248df01840ec515c1288dfbc0323ed">MSG_ROBOT_OP_DRV_TO_STOR</a>);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#aabc19201dab2e84504bcafcbb24015ab">SM_DRIVE_WALL_RETREAT</a>;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                }</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            }</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a533e726e2969b8474ca1cf9b697cb0b8">SM_INTAKE_SLOW_IN</a>:</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            <span class="comment">// slowly move the roller to be able to approach the reactor in a controlled fashion</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <a class="code" href="../../da/df1/class_threaded_robot.html#ac4e32d1373e0d8a887c29378c002783f">intake</a>-&gt;<a class="code" href="../../db/dfd/class_intake.html#a4c1e0e346839bb294065ae5da7117df0">slowIn</a>();</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#aee99598bb6301112885aebf03222896f">SM_INTAKE_EJECT</a>:</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> &amp; <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a11f08cf179cbed14133b5202e4b3d08d">STATUS_INTAKE_FC</a>) { <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#aa07992df20b2aee6d2c4defd8d6b110c">robot</a>()-&gt;<a class="code" href="../../d2/d9e/class_robot_data.html#a2676bf89bd178c2a9a38236d936a49c0">setOperationStatus</a>(<a class="code" href="../../db/d16/config_8h.html#ad674f3d1488156b64c1c2ef0826df9af">MSG_ROBOT_OP_RELEASE_GRP</a>); }</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            <span class="comment">// eject the rod</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            <a class="code" href="../../da/df1/class_threaded_robot.html#ac4e32d1373e0d8a887c29378c002783f">intake</a>-&gt;<a class="code" href="../../db/dfd/class_intake.html#abd14de5ccd68929ea2627ca11aec9688">fullOut</a>();</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            <span class="comment">// see if its out</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#ac43f0de8273a3d7db6116817ea05b953">STEP__TO_STORAGE</a>) {</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../da/df1/class_threaded_robot.html#ac4e32d1373e0d8a887c29378c002783f">intake</a>-&gt;<a class="code" href="../../db/dfd/class_intake.html#ae9bf8ae8ebed0f1ba36443373eb0ae63">switchHit</a>() &amp;&amp; <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#a2d8c23fd3eada41d734620a600ceca57">field</a>()-&gt;<a class="code" href="../../dc/d7a/class_field_data.html#aace8d0ab4c931b35ab85b71710079459">checkStorageTube</a>(<a class="code" href="../../da/df1/class_threaded_robot.html#ac68916b337d845b298d7e66f2f9261d7">cur_tube</a>)) {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#aa07992df20b2aee6d2c4defd8d6b110c">robot</a>()-&gt;<a class="code" href="../../d2/d9e/class_robot_data.html#a330b0e4fa0303df4a16b8c07e917c622">setRadiationLevel</a>(0);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#aa07992df20b2aee6d2c4defd8d6b110c">robot</a>()-&gt;<a class="code" href="../../d2/d9e/class_robot_data.html#a2676bf89bd178c2a9a38236d936a49c0">setOperationStatus</a>(<a class="code" href="../../db/d16/config_8h.html#a1123cbadb4fa69b79c47a7b9fb75c172">MSG_ROBOT_OP_DRV_TO_SUPL</a>);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#aabc19201dab2e84504bcafcbb24015ab">SM_DRIVE_WALL_RETREAT</a>;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a832f25be64f45ff3297d3da9609a9391">intake_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a1ccedfbf469636f5afc2c68499f826a9">SM_INTAKE_IDLE</a>;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                }</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">global_state</a> == <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#aa746f89a7ab4e61cfe763ca6ad8a2e22">STEP__INSERT_ROUTINE</a>) {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="../../da/df1/class_threaded_robot.html#ac4e32d1373e0d8a887c29378c002783f">intake</a>-&gt;<a class="code" href="../../db/dfd/class_intake.html#ae9bf8ae8ebed0f1ba36443373eb0ae63">switchHit</a>()) {</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                    <a class="code" href="../../da/df1/class_threaded_robot.html#a314047099d4d38a60d54cc8b81012c7c">tick_wait</a>++;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a314047099d4d38a60d54cc8b81012c7c">tick_wait</a> &gt; 500) {</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                        <a class="code" href="../../da/df1/class_threaded_robot.html#a314047099d4d38a60d54cc8b81012c7c">tick_wait</a> = 0;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                        <span class="comment">// set radiation low</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                        <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#aa07992df20b2aee6d2c4defd8d6b110c">robot</a>()-&gt;<a class="code" href="../../d2/d9e/class_robot_data.html#a330b0e4fa0303df4a16b8c07e917c622">setRadiationLevel</a>(0);</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                        <a class="code" href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">messenger</a>-&gt;<a class="code" href="../../d6/dc9/class_messenger.html#aa07992df20b2aee6d2c4defd8d6b110c">robot</a>()-&gt;<a class="code" href="../../d2/d9e/class_robot_data.html#a2676bf89bd178c2a9a38236d936a49c0">setOperationStatus</a>(<a class="code" href="../../db/d16/config_8h.html#a07b36fc0265003a9ba81111a770f1ce9">MSG_ROBOT_OP_DRV_TO_ROD</a>);</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                        <span class="comment">// move the arm back up and continue with states</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                        <a class="code" href="../../da/df1/class_threaded_robot.html#a19026abe96d44213f7e8b3983be2d968">arm_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#ab81e7b2b3227c0de1b76dcfdddb78f75">SM_ARM_UP</a>;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                        <a class="code" href="../../da/df1/class_threaded_robot.html#a832f25be64f45ff3297d3da9609a9391">intake_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a1ccedfbf469636f5afc2c68499f826a9">SM_INTAKE_IDLE</a>;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                        <a class="code" href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">drive_state</a> = <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a59b73e9a00ed2ca9fbfc22a25281ab9f">SM_DRIVE_REACTOR_LOAD_RETREAT</a>;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                        <a class="code" href="../../da/df1/class_threaded_robot.html#a3c2f2358f32ba58846b13e95b3c55527">cur_reactor</a>++;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                    }</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                }</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            }</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    }</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="comment">// if we just ran a first call</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> &amp; <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a11f08cf179cbed14133b5202e4b3d08d">STATUS_INTAKE_FC</a>) {</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> &amp;= !<a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a11f08cf179cbed14133b5202e4b3d08d">STATUS_INTAKE_FC</a>; <span class="comment">// set first call flag bit to 0</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="comment">// check if we manually changed states in THIS loop</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/df1/class_threaded_robot.html#a6ee4298a994be3756ea1821125ab9d57">intake_state_prev</a> != <a class="code" href="../../da/df1/class_threaded_robot.html#a832f25be64f45ff3297d3da9609a9391">intake_state</a>) {</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <a class="code" href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">status</a> |= <a class="code" href="../../d9/da8/_threaded_robot_8hpp.html#a11f08cf179cbed14133b5202e4b3d08d">STATUS_INTAKE_FC</a>; <span class="comment">// set first call flag bit to 1</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    }</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="../../da/df1/class_threaded_robot.html#a6ee4298a994be3756ea1821125ab9d57">intake_state_prev</a> = <a class="code" href="../../da/df1/class_threaded_robot.html#a832f25be64f45ff3297d3da9609a9391">intake_state</a>;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;}</div><div class="ttc" id="config_8h_html_ab454d72cc697391771c5024a1da12f9f"><div class="ttname"><a href="../../db/d16/config_8h.html#ab454d72cc697391771c5024a1da12f9f">DRIVE_SP__RETREAT_FROM_WALLS</a></div><div class="ttdeci">#define DRIVE_SP__RETREAT_FROM_WALLS</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/config_8h_source.html#l00014">config.h:14</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a86ab3f2f83958858e47c50004702bba7"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a86ab3f2f83958858e47c50004702bba7">ThreadedRobot::attachDrive</a></div><div class="ttdeci">void attachDrive(DriveTrain *drive)</div><div class="ttdoc">Attach a DriveTrain to the ThreadedRobot to allow it to control the robot drive train. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3f/_threaded_robot_8cpp_source.html#l00021">ThreadedRobot.cpp:21</a></div></div>
<div class="ttc" id="class_arm_html_a8cd24cca4215a944bd47df13e252e8a0"><div class="ttname"><a href="../../d4/d47/class_arm.html#a8cd24cca4215a944bd47df13e252e8a0">Arm::runToSetpoint</a></div><div class="ttdeci">void runToSetpoint(void)</div><div class="ttdoc">Run the PD controller, update it at its update rate. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d25/_arm_8cpp_source.html#l00069">Arm.cpp:69</a></div></div>
<div class="ttc" id="class_threaded_robot_html_ab1a8d6c3cc3e2df57701adfa23e1273d"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#ab1a8d6c3cc3e2df57701adfa23e1273d">ThreadedRobot::step_intake_loop</a></div><div class="ttdeci">void step_intake_loop(void)</div><div class="ttdoc">Step through the intake control logic. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3f/_threaded_robot_8cpp_source.html#l00487">ThreadedRobot.cpp:487</a></div></div>
<div class="ttc" id="class_drive_train_html_a3817b51633041e331de658be05396ec9"><div class="ttname"><a href="../../d9/db0/class_drive_train.html#a3817b51633041e331de658be05396ec9">DriveTrain::nearSetpoints</a></div><div class="ttdeci">bool nearSetpoints(double tolerance_l, double tolerance_r)</div><div class="ttdoc">Check if the drivetrain is near its encoder-based setpoints within a given tolerance (in inches)...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d6e/_drive_train_8cpp_source.html#l00304">DriveTrain.cpp:304</a></div></div>
<div class="ttc" id="class_robot_data_html_a72b1b729501cd7a0620e83c5d4d9a714"><div class="ttname"><a href="../../d2/d9e/class_robot_data.html#a72b1b729501cd7a0620e83c5d4d9a714">RobotData::setMotionStatus</a></div><div class="ttdeci">void setMotionStatus(uint8_t status)</div><div class="ttdoc">Set the robot&amp;#39;s motion status. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d83/_robot_data_8cpp_source.html#l00020">RobotData.cpp:20</a></div></div>
<div class="ttc" id="class_intake_html_a4c1e0e346839bb294065ae5da7117df0"><div class="ttname"><a href="../../db/dfd/class_intake.html#a4c1e0e346839bb294065ae5da7117df0">Intake::slowIn</a></div><div class="ttdeci">void slowIn(void)</div><div class="ttdoc">Drive the intake slowly in until hitting switch. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d11/_intake_8cpp_source.html#l00050">Intake.cpp:50</a></div></div>
<div class="ttc" id="config_8h_html_a1123cbadb4fa69b79c47a7b9fb75c172"><div class="ttname"><a href="../../db/d16/config_8h.html#a1123cbadb4fa69b79c47a7b9fb75c172">MSG_ROBOT_OP_DRV_TO_SUPL</a></div><div class="ttdeci">#define MSG_ROBOT_OP_DRV_TO_SUPL</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/config_8h_source.html#l00065">config.h:65</a></div></div>
<div class="ttc" id="class_robot_data_html_a2676bf89bd178c2a9a38236d936a49c0"><div class="ttname"><a href="../../d2/d9e/class_robot_data.html#a2676bf89bd178c2a9a38236d936a49c0">RobotData::setOperationStatus</a></div><div class="ttdeci">void setOperationStatus(uint8_t status)</div><div class="ttdoc">Set the robot&amp;#39;s operation status. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d83/_robot_data_8cpp_source.html#l00032">RobotData.cpp:32</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a59b73e9a00ed2ca9fbfc22a25281ab9f"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a59b73e9a00ed2ca9fbfc22a25281ab9f">SM_DRIVE_REACTOR_LOAD_RETREAT</a></div><div class="ttdeci">#define SM_DRIVE_REACTOR_LOAD_RETREAT</div><div class="ttdoc">Retreat back after loading/unloading the reactor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00031">ThreadedRobot.hpp:31</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a8e869bc75311ab5b24a7dcd53163d9f5"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a8e869bc75311ab5b24a7dcd53163d9f5">SM_INTAKE_IN</a></div><div class="ttdeci">#define SM_INTAKE_IN</div><div class="ttdoc">Drive the intake inwards until the rod is sensed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00044">ThreadedRobot.hpp:44</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a6dcf388032425561c387f153ea141c79"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a6dcf388032425561c387f153ea141c79">ThreadedRobot::rsensor</a></div><div class="ttdeci">ReflectanceSensor * rsensor</div><div class="ttdoc">Pololu reflectance sensor object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00099">ThreadedRobot.hpp:99</a></div></div>
<div class="ttc" id="class_drive_train_html"><div class="ttname"><a href="../../d9/db0/class_drive_train.html">DriveTrain</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d2c/_drive_train_8hpp_source.html#l00019">DriveTrain.hpp:19</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_aac0c6c5f2a3a9106b067d6964c467a1e"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#aac0c6c5f2a3a9106b067d6964c467a1e">SM_DRIVE_TURN_180</a></div><div class="ttdeci">#define SM_DRIVE_TURN_180</div><div class="ttdoc">Turn right 180 degrees. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00035">ThreadedRobot.hpp:35</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a10f3a9d1b27ca8e7a1ada75323c75879"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a10f3a9d1b27ca8e7a1ada75323c75879">ThreadedRobot::status</a></div><div class="ttdeci">uint8_t status</div><div class="ttdoc">Robot status flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00086">ThreadedRobot.hpp:86</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_ab81e7b2b3227c0de1b76dcfdddb78f75"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#ab81e7b2b3227c0de1b76dcfdddb78f75">SM_ARM_UP</a></div><div class="ttdeci">#define SM_ARM_UP</div><div class="ttdoc">Set the arm to its upward position and drive there. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00039">ThreadedRobot.hpp:39</a></div></div>
<div class="ttc" id="class_field_data_html_ab43f0866e57dbdb05d56550a6ab1e8e0"><div class="ttname"><a href="../../dc/d7a/class_field_data.html#ab43f0866e57dbdb05d56550a6ab1e8e0">FieldData::checkMovementDisabled</a></div><div class="ttdeci">uint8_t checkMovementDisabled(void) const</div><div class="ttdoc">Check if the field is allowing movement. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d1a/_field_data_8cpp_source.html#l00033">FieldData.cpp:33</a></div></div>
<div class="ttc" id="class_arm_html_a392a83624fdebcb6269695c3600e6c90"><div class="ttname"><a href="../../d4/d47/class_arm.html#a392a83624fdebcb6269695c3600e6c90">Arm::nearSetpoint</a></div><div class="ttdeci">bool nearSetpoint(double tolerance)</div><div class="ttdoc">Check if the arm is within the tolerance given of the setpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d25/_arm_8cpp_source.html#l00093">Arm.cpp:93</a></div></div>
<div class="ttc" id="config_8h_html_aa4b73094139c22971d37a0b1609b791a"><div class="ttname"><a href="../../db/d16/config_8h.html#aa4b73094139c22971d37a0b1609b791a">DRIVE_SP__REALLY_FAR_FORWARD</a></div><div class="ttdeci">#define DRIVE_SP__REALLY_FAR_FORWARD</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/config_8h_source.html#l00012">config.h:12</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a388ca9e0532aeb38988df56f8226b6f9"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a388ca9e0532aeb38988df56f8226b6f9">STEP__TO_REACTOR</a></div><div class="ttdeci">#define STEP__TO_REACTOR</div><div class="ttdoc">Get to the current reactor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00049">ThreadedRobot.hpp:49</a></div></div>
<div class="ttc" id="class_messenger_html_a2d8c23fd3eada41d734620a600ceca57"><div class="ttname"><a href="../../d6/dc9/class_messenger.html#a2d8c23fd3eada41d734620a600ceca57">Messenger::field</a></div><div class="ttdeci">FieldData * field(void)</div><div class="ttdoc">Get the current field data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/ddf/_messenger_8cpp_source.html#l00033">Messenger.cpp:33</a></div></div>
<div class="ttc" id="class_intake_html_a8582bcb135b9700923940a7b44d233ef"><div class="ttname"><a href="../../db/dfd/class_intake.html#a8582bcb135b9700923940a7b44d233ef">Intake::fullIn</a></div><div class="ttdeci">void fullIn(void)</div><div class="ttdoc">Drive the intake full in until hitting switch. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d11/_intake_8cpp_source.html#l00039">Intake.cpp:39</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_aabc19201dab2e84504bcafcbb24015ab"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#aabc19201dab2e84504bcafcbb24015ab">SM_DRIVE_WALL_RETREAT</a></div><div class="ttdeci">#define SM_DRIVE_WALL_RETREAT</div><div class="ttdoc">Retreat back from the wall. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00030">ThreadedRobot.hpp:30</a></div></div>
<div class="ttc" id="class_threaded_robot_html_aa895dd29f7418754d4dfb8555572ae31"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#aa895dd29f7418754d4dfb8555572ae31">ThreadedRobot::supply_dir</a></div><div class="ttdeci">uint8_t supply_dir</div><div class="ttdoc">Direction we turned for supply rod (0 = left, 1 = right) </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00111">ThreadedRobot.hpp:111</a></div></div>
<div class="ttc" id="class_accelerometer_html"><div class="ttname"><a href="../../d9/d1c/class_accelerometer.html">Accelerometer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0e/_accelerometer_8hpp_source.html#l00019">Accelerometer.hpp:19</a></div></div>
<div class="ttc" id="class_threaded_robot_html_ae12c29cb9719f6562f27402f487321e6"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#ae12c29cb9719f6562f27402f487321e6">ThreadedRobot::accel</a></div><div class="ttdeci">Accelerometer * accel</div><div class="ttdoc">Adafruit accelerometer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00100">ThreadedRobot.hpp:100</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a0dfd6ccb0681319880cf03a62262aa43"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a0dfd6ccb0681319880cf03a62262aa43">SM_DRIVE_TURN_LEFT</a></div><div class="ttdeci">#define SM_DRIVE_TURN_LEFT</div><div class="ttdoc">Turn left 90 degrees. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00033">ThreadedRobot.hpp:33</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a857a1c5a3488176bd5a4bafc1b6d1d89"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a857a1c5a3488176bd5a4bafc1b6d1d89">ThreadedRobot::led_counter</a></div><div class="ttdeci">uint32_t led_counter</div><div class="ttdoc">Used to run the radiation LED alternation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00104">ThreadedRobot.hpp:104</a></div></div>
<div class="ttc" id="config_8h_html_a5c741381c7f5ad8ab6bfc68b314d9544"><div class="ttname"><a href="../../db/d16/config_8h.html#a5c741381c7f5ad8ab6bfc68b314d9544">DRIVE_SP__TO_REACTOR_1</a></div><div class="ttdeci">#define DRIVE_SP__TO_REACTOR_1</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/config_8h_source.html#l00009">config.h:9</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_aee99598bb6301112885aebf03222896f"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#aee99598bb6301112885aebf03222896f">SM_INTAKE_EJECT</a></div><div class="ttdeci">#define SM_INTAKE_EJECT</div><div class="ttdoc">Eject the rod (run intake outwards) </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00046">ThreadedRobot.hpp:46</a></div></div>
<div class="ttc" id="class_drive_train_html_ace3dfd00c11b3d001179370c2aa79be4"><div class="ttname"><a href="../../d9/db0/class_drive_train.html#ace3dfd00c11b3d001179370c2aa79be4">DriveTrain::driveLineGuided</a></div><div class="ttdeci">void driveLineGuided(void)</div><div class="ttdoc">Run drive PD with line follower PD for guidance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d6e/_drive_train_8cpp_source.html#l00258">DriveTrain.cpp:258</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a736b22dbab4c41abd3670d0613e9b7b2"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a736b22dbab4c41abd3670d0613e9b7b2">SM_DRIVE_FUEL_SUPPLY</a></div><div class="ttdeci">#define SM_DRIVE_FUEL_SUPPLY</div><div class="ttdoc">Drive to supply tubes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00028">ThreadedRobot.hpp:28</a></div></div>
<div class="ttc" id="class_intake_html_ae9bf8ae8ebed0f1ba36443373eb0ae63"><div class="ttname"><a href="../../db/dfd/class_intake.html#ae9bf8ae8ebed0f1ba36443373eb0ae63">Intake::switchHit</a></div><div class="ttdeci">bool switchHit(void) const</div><div class="ttdoc">Check if the limit switch is pressed. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d11/_intake_8cpp_source.html#l00072">Intake.cpp:72</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html">ThreadedRobot.hpp</a></div><div class="ttdoc">Threaded Robot Header. </div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a0bd5b2755ddab25dc7c7f0fd9f907e92"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a0bd5b2755ddab25dc7c7f0fd9f907e92">STATUS_DRIVE_FC</a></div><div class="ttdeci">#define STATUS_DRIVE_FC</div><div class="ttdoc">First call of drive state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00017">ThreadedRobot.hpp:17</a></div></div>
<div class="ttc" id="config_8h_html_a07b36fc0265003a9ba81111a770f1ce9"><div class="ttname"><a href="../../db/d16/config_8h.html#a07b36fc0265003a9ba81111a770f1ce9">MSG_ROBOT_OP_DRV_TO_ROD</a></div><div class="ttdeci">#define MSG_ROBOT_OP_DRV_TO_ROD</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/config_8h_source.html#l00063">config.h:63</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a4a4a3eab10c962150bc5194f22d10496"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a4a4a3eab10c962150bc5194f22d10496">ThreadedRobot::drive_state_prev</a></div><div class="ttdeci">uint8_t drive_state_prev</div><div class="ttdoc">Previous status of the drive subsystem. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00091">ThreadedRobot.hpp:91</a></div></div>
<div class="ttc" id="class_robot_data_html_aa115713d34966f38642357eba5543f16"><div class="ttname"><a href="../../d2/d9e/class_robot_data.html#aa115713d34966f38642357eba5543f16">RobotData::setGripperStatus</a></div><div class="ttdeci">void setGripperStatus(uint8_t status)</div><div class="ttdoc">Set the robot&amp;#39;s gripper status. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d83/_robot_data_8cpp_source.html#l00026">RobotData.cpp:26</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a832f25be64f45ff3297d3da9609a9391"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a832f25be64f45ff3297d3da9609a9391">ThreadedRobot::intake_state</a></div><div class="ttdeci">uint8_t intake_state</div><div class="ttdoc">Status of the intake subsystem. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00090">ThreadedRobot.hpp:90</a></div></div>
<div class="ttc" id="class_drive_train_html_ab3b73991a0be9e840d3e4903d41dadec"><div class="ttname"><a href="../../d9/db0/class_drive_train.html#ab3b73991a0be9e840d3e4903d41dadec">DriveTrain::turned</a></div><div class="ttdeci">bool turned(void)</div><div class="ttdoc">Check if the gyroscope is within a degree of the gyro-based PD setpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d6e/_drive_train_8cpp_source.html#l00317">DriveTrain.cpp:317</a></div></div>
<div class="ttc" id="config_8h_html_a324de4e71a26bebce744eab8027af4d6"><div class="ttname"><a href="../../db/d16/config_8h.html#a324de4e71a26bebce744eab8027af4d6">ARM_DOWN_FULL</a></div><div class="ttdeci">#define ARM_DOWN_FULL</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/config_8h_source.html#l00024">config.h:24</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a15a3a8b9bc4c8d83aea6b4f8d9fe78a9"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a15a3a8b9bc4c8d83aea6b4f8d9fe78a9">SM_DRIVE_FUEL_DEPOSIT_RETRIEVE</a></div><div class="ttdeci">#define SM_DRIVE_FUEL_DEPOSIT_RETRIEVE</div><div class="ttdoc">Drive to tubes to deposit or retrieve. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00029">ThreadedRobot.hpp:29</a></div></div>
<div class="ttc" id="class_messenger_html"><div class="ttname"><a href="../../d6/dc9/class_messenger.html">Messenger</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db0/_messenger_8hpp_source.html#l00018">Messenger.hpp:18</a></div></div>
<div class="ttc" id="config_8h_html_a5bc0e4abb054ebb8d2a4dbc39b1fa4e2"><div class="ttname"><a href="../../db/d16/config_8h.html#a5bc0e4abb054ebb8d2a4dbc39b1fa4e2">MSG_ROBOT_GRIPPER_ROD</a></div><div class="ttdeci">#define MSG_ROBOT_GRIPPER_ROD</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/config_8h_source.html#l00058">config.h:58</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a506989a00617c30a8a1930773a0b7d41"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a506989a00617c30a8a1930773a0b7d41">ThreadedRobot::got_data</a></div><div class="ttdeci">uint8_t got_data</div><div class="ttdoc">If we have necessary bluetooth data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00106">ThreadedRobot.hpp:106</a></div></div>
<div class="ttc" id="class_reflectance_sensor_html"><div class="ttname"><a href="../../d4/d5e/class_reflectance_sensor.html">ReflectanceSensor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d77/_reflectance_sensor_8hpp_source.html#l00013">ReflectanceSensor.hpp:13</a></div></div>
<div class="ttc" id="class_threaded_robot_html_ac4f1dd23e0b7ec167c9b80875d06d4c6"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#ac4f1dd23e0b7ec167c9b80875d06d4c6">ThreadedRobot::step_drive_loop</a></div><div class="ttdeci">void step_drive_loop(void)</div><div class="ttdoc">Step through the drive control logic. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3f/_threaded_robot_8cpp_source.html#l00105">ThreadedRobot.cpp:105</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a8d78ef13e34e29ab23aafedcdddc4ae4"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a8d78ef13e34e29ab23aafedcdddc4ae4">ThreadedRobot::was_on_line</a></div><div class="ttdeci">uint8_t was_on_line</div><div class="ttdoc">If we have been on a line already. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00109">ThreadedRobot.hpp:109</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a660f930e51755e1c2e76220fc1952a82"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a660f930e51755e1c2e76220fc1952a82">SM_DRIVE_STOP</a></div><div class="ttdeci">#define SM_DRIVE_STOP</div><div class="ttdoc">Stop the drive motors (then do nothing) </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00025">ThreadedRobot.hpp:25</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_adac605b3f05fb0b3166eddf6bffeaae2"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#adac605b3f05fb0b3166eddf6bffeaae2">SM_DRIVE_TURN_FROM_REACTOR</a></div><div class="ttdeci">#define SM_DRIVE_TURN_FROM_REACTOR</div><div class="ttdoc">Turn away from the reactor after completion of removing/inserting fuel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00032">ThreadedRobot.hpp:32</a></div></div>
<div class="ttc" id="class_intake_html"><div class="ttname"><a href="../../db/dfd/class_intake.html">Intake</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5a/_intake_8hpp_source.html#l00018">Intake.hpp:18</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a77a621d5f607ff296ceac51c831a3258"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a77a621d5f607ff296ceac51c831a3258">ThreadedRobot::arm_state_prev</a></div><div class="ttdeci">uint8_t arm_state_prev</div><div class="ttdoc">Previous status of the four-bar arm subsystem. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00092">ThreadedRobot.hpp:92</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a7ff65f6f18c5d3a9d5823e0a00b46c9f"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a7ff65f6f18c5d3a9d5823e0a00b46c9f">ThreadedRobot::messenger</a></div><div class="ttdeci">Messenger * messenger</div><div class="ttdoc">Pointer to instantiated and configured Messenger. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00073">ThreadedRobot.hpp:73</a></div></div>
<div class="ttc" id="class_field_data_html_a645f5d698b0048e4aa718327a5e1550a"><div class="ttname"><a href="../../dc/d7a/class_field_data.html#a645f5d698b0048e4aa718327a5e1550a">FieldData::checkSupplyTube</a></div><div class="ttdeci">uint8_t checkSupplyTube(uint8_t index) const</div><div class="ttdoc">Check if the supply tube with given index is available. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d1a/_field_data_8cpp_source.html#l00051">FieldData.cpp:51</a></div></div>
<div class="ttc" id="class_threaded_robot_html_aacd340e703b54f0d3568c6c2bed974bf"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#aacd340e703b54f0d3568c6c2bed974bf">ThreadedRobot::lines_to_skip</a></div><div class="ttdeci">uint8_t lines_to_skip</div><div class="ttdoc">How many lines left to skip. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00110">ThreadedRobot.hpp:110</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a2224a8a7536e9ffb7d7a35c57280bddb"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a2224a8a7536e9ffb7d7a35c57280bddb">ThreadedRobot::step_arm_loop</a></div><div class="ttdeci">void step_arm_loop(void)</div><div class="ttdoc">Step through the arm control logic. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3f/_threaded_robot_8cpp_source.html#l00421">ThreadedRobot.cpp:421</a></div></div>
<div class="ttc" id="config_8h_html_a819fd042d57965904b3cc073fd216d7f"><div class="ttname"><a href="../../db/d16/config_8h.html#a819fd042d57965904b3cc073fd216d7f">MSG_ROBOT_MOVEMENT_STOPPED</a></div><div class="ttdeci">#define MSG_ROBOT_MOVEMENT_STOPPED</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/config_8h_source.html#l00052">config.h:52</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a314047099d4d38a60d54cc8b81012c7c"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a314047099d4d38a60d54cc8b81012c7c">ThreadedRobot::tick_wait</a></div><div class="ttdeci">uint32_t tick_wait</div><div class="ttdoc">Count this up until it reaches a value to wait that many ticks. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00103">ThreadedRobot.hpp:103</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a1ccedfbf469636f5afc2c68499f826a9"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a1ccedfbf469636f5afc2c68499f826a9">SM_INTAKE_IDLE</a></div><div class="ttdeci">#define SM_INTAKE_IDLE</div><div class="ttdoc">Idle the intake (do nothing) </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00042">ThreadedRobot.hpp:42</a></div></div>
<div class="ttc" id="config_8h_html_ae7a4f981c8c2fee871cca8ce6de40436"><div class="ttname"><a href="../../db/d16/config_8h.html#ae7a4f981c8c2fee871cca8ce6de40436">RAD_LED_0</a></div><div class="ttdeci">#define RAD_LED_0</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/config_8h_source.html#l00091">config.h:91</a></div></div>
<div class="ttc" id="class_intake_html_a3780c5eb8a67c524cc793aaa631ce62e"><div class="ttname"><a href="../../db/dfd/class_intake.html#a3780c5eb8a67c524cc793aaa631ce62e">Intake::stop</a></div><div class="ttdeci">void stop(void)</div><div class="ttdoc">Stop intake. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d11/_intake_8cpp_source.html#l00028">Intake.cpp:28</a></div></div>
<div class="ttc" id="config_8h_html_a12bcb79900d7ce0678284ea659f55f87"><div class="ttname"><a href="../../db/d16/config_8h.html#a12bcb79900d7ce0678284ea659f55f87">MSG_ROBOT_MOVEMENT_AUTO</a></div><div class="ttdeci">#define MSG_ROBOT_MOVEMENT_AUTO</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/config_8h_source.html#l00054">config.h:54</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a6ee4298a994be3756ea1821125ab9d57"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a6ee4298a994be3756ea1821125ab9d57">ThreadedRobot::intake_state_prev</a></div><div class="ttdeci">uint8_t intake_state_prev</div><div class="ttdoc">Previous status of the intake subsystem. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00093">ThreadedRobot.hpp:93</a></div></div>
<div class="ttc" id="config_8h_html_aa54e5b55d86637a2f4b6112f73badfc8"><div class="ttname"><a href="../../db/d16/config_8h.html#aa54e5b55d86637a2f4b6112f73badfc8">MSG_ROBOT_OP_ATTEMPT_GRP</a></div><div class="ttdeci">#define MSG_ROBOT_OP_ATTEMPT_GRP</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/config_8h_source.html#l00061">config.h:61</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a92782be4dc437d7e84b04d20a39a5de3"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a92782be4dc437d7e84b04d20a39a5de3">ThreadedRobot::global_state</a></div><div class="ttdeci">uint8_t global_state</div><div class="ttdoc">Global state machine state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00094">ThreadedRobot.hpp:94</a></div></div>
<div class="ttc" id="class_drive_train_html_abaf93133223369df521ba2c8bcfea09d"><div class="ttname"><a href="../../d9/db0/class_drive_train.html#abaf93133223369df521ba2c8bcfea09d">DriveTrain::setTurnSetpoint</a></div><div class="ttdeci">void setTurnSetpoint(double angle)</div><div class="ttdoc">Set the setpoint for the gyroscope-based drive PD controller in degrees. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d6e/_drive_train_8cpp_source.html#l00175">DriveTrain.cpp:175</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a4f6a6e6b703f8b80f5d02968d9595267"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a4f6a6e6b703f8b80f5d02968d9595267">SM_DRIVE_FUEL_STORAGE</a></div><div class="ttdeci">#define SM_DRIVE_FUEL_STORAGE</div><div class="ttdoc">Drive to storage tubes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00027">ThreadedRobot.hpp:27</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_af64a9cac77953e37e9facd5f39a41ea6"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#af64a9cac77953e37e9facd5f39a41ea6">STATUS_ARM_FC</a></div><div class="ttdeci">#define STATUS_ARM_FC</div><div class="ttdoc">First call of arm state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00018">ThreadedRobot.hpp:18</a></div></div>
<div class="ttc" id="class_robot_data_html_a330b0e4fa0303df4a16b8c07e917c622"><div class="ttname"><a href="../../d2/d9e/class_robot_data.html#a330b0e4fa0303df4a16b8c07e917c622">RobotData::setRadiationLevel</a></div><div class="ttdeci">void setRadiationLevel(uint8_t level)</div><div class="ttdoc">Set the radiation resulting from the robots actions (exposing a fuel rod). </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d83/_robot_data_8cpp_source.html#l00014">RobotData.cpp:14</a></div></div>
<div class="ttc" id="class_messenger_html_abdf16b0ba616983f4c4b1895ed937eb2"><div class="ttname"><a href="../../d6/dc9/class_messenger.html#abdf16b0ba616983f4c4b1895ed937eb2">Messenger::step_recv</a></div><div class="ttdeci">void step_recv(void)</div><div class="ttdoc">Step this subsystem (handle any recieved data). </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/ddf/_messenger_8cpp_source.html#l00060">Messenger.cpp:60</a></div></div>
<div class="ttc" id="class_drive_train_html_a824147fd2c57fe25c0f64a80218ca39e"><div class="ttname"><a href="../../d9/db0/class_drive_train.html#a824147fd2c57fe25c0f64a80218ca39e">DriveTrain::setSetpoints</a></div><div class="ttdeci">void setSetpoints(double sp_l, double sp_r)</div><div class="ttdoc">Set the setpoints for the encoder-based drive PD controllers in inches. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d6e/_drive_train_8cpp_source.html#l00166">DriveTrain.cpp:166</a></div></div>
<div class="ttc" id="class_threaded_robot_html_afc27bf260266c249fc7ce2895a20882f"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#afc27bf260266c249fc7ce2895a20882f">ThreadedRobot::attachMessenger</a></div><div class="ttdeci">void attachMessenger(Messenger *msngr)</div><div class="ttdoc">Attach a Messenger to the ThreadedRobot to allow it to recieve bluetooth data and use it for calculat...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3f/_threaded_robot_8cpp_source.html#l00015">ThreadedRobot.cpp:15</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_afbbce27f2ad74e23a17117134f66f94f"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#afbbce27f2ad74e23a17117134f66f94f">SM_INTAKE_HOLD</a></div><div class="ttdeci">#define SM_INTAKE_HOLD</div><div class="ttdoc">Hold the rod in the intake (run inwards if sensor thinks we lost the rod) </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00043">ThreadedRobot.hpp:43</a></div></div>
<div class="ttc" id="class_drive_train_html_a18d4c7b82118a1da8910d09a31f88a38"><div class="ttname"><a href="../../d9/db0/class_drive_train.html#a18d4c7b82118a1da8910d09a31f88a38">DriveTrain::stop</a></div><div class="ttdeci">void stop(void)</div><div class="ttdoc">Stop the drive train (stops PDs and sets outputs to 0) </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d6e/_drive_train_8cpp_source.html#l00227">DriveTrain.cpp:227</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_ad8059005f360a46de99b00ca40801fec"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#ad8059005f360a46de99b00ca40801fec">SM_DRIVE_REACTOR</a></div><div class="ttdeci">#define SM_DRIVE_REACTOR</div><div class="ttdoc">Drive to reactor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00026">ThreadedRobot.hpp:26</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a96fec3d4c162b9ffe5c1c5847c58f1d9"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a96fec3d4c162b9ffe5c1c5847c58f1d9">SM_ARM_IDLE</a></div><div class="ttdeci">#define SM_ARM_IDLE</div><div class="ttdoc">Idle the arm (do nothing) </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00037">ThreadedRobot.hpp:37</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a17eb65c231c0816f2929a40e1af28a8a"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a17eb65c231c0816f2929a40e1af28a8a">SM_ARM_HOLD</a></div><div class="ttdeci">#define SM_ARM_HOLD</div><div class="ttdoc">Hold the arm in its current setpoint with the PD controller. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00038">ThreadedRobot.hpp:38</a></div></div>
<div class="ttc" id="class_arm_html"><div class="ttname"><a href="../../d4/d47/class_arm.html">Arm</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd6/_arm_8hpp_source.html#l00015">Arm.hpp:15</a></div></div>
<div class="ttc" id="config_8h_html_a4fdb8eb7f018736d83447712b34a6438"><div class="ttname"><a href="../../db/d16/config_8h.html#a4fdb8eb7f018736d83447712b34a6438">RAD_LED_1</a></div><div class="ttdeci">#define RAD_LED_1</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/config_8h_source.html#l00092">config.h:92</a></div></div>
<div class="ttc" id="class_threaded_robot_html_ac4e32d1373e0d8a887c29378c002783f"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#ac4e32d1373e0d8a887c29378c002783f">ThreadedRobot::intake</a></div><div class="ttdeci">Intake * intake</div><div class="ttdoc">Intake control object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00098">ThreadedRobot.hpp:98</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a065168c9946205caff716032d3f26d1b"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a065168c9946205caff716032d3f26d1b">SM_DRIVE_TURN_RIGHT</a></div><div class="ttdeci">#define SM_DRIVE_TURN_RIGHT</div><div class="ttdoc">Turn right 90 degrees. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00034">ThreadedRobot.hpp:34</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a19026abe96d44213f7e8b3983be2d968"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a19026abe96d44213f7e8b3983be2d968">ThreadedRobot::arm_state</a></div><div class="ttdeci">uint8_t arm_state</div><div class="ttdoc">Status of the four-bar arm subsystem. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00089">ThreadedRobot.hpp:89</a></div></div>
<div class="ttc" id="config_8h_html_a0f83a1b66087ca5c101726ba5ee04c6b"><div class="ttname"><a href="../../db/d16/config_8h.html#a0f83a1b66087ca5c101726ba5ee04c6b">DRIVE_SP__CENTER_TO_WALLS</a></div><div class="ttdeci">#define DRIVE_SP__CENTER_TO_WALLS</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/config_8h_source.html#l00013">config.h:13</a></div></div>
<div class="ttc" id="config_8h_html_a3972e338f33c1f5ec5e89feac6d90ff0"><div class="ttname"><a href="../../db/d16/config_8h.html#a3972e338f33c1f5ec5e89feac6d90ff0">DRIVE_SP__REACTOR_RETREAT_WITH_FUEL</a></div><div class="ttdeci">#define DRIVE_SP__REACTOR_RETREAT_WITH_FUEL</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/config_8h_source.html#l00011">config.h:11</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a037aff3c57462898ffb71a1a0f8096a1"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a037aff3c57462898ffb71a1a0f8096a1">STEP__TO_SUPPLY</a></div><div class="ttdeci">#define STEP__TO_SUPPLY</div><div class="ttdoc">Head to supply. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00053">ThreadedRobot.hpp:53</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a696681018aa36726b057d6b82573d620"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a696681018aa36726b057d6b82573d620">SM_ARM_DOWN</a></div><div class="ttdeci">#define SM_ARM_DOWN</div><div class="ttdoc">Set the arm to one of its lower positions and drive there. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00040">ThreadedRobot.hpp:40</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a5c9752f8b7d97689f8b5f1c4bf87ad2d"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a5c9752f8b7d97689f8b5f1c4bf87ad2d">ThreadedRobot::attachAccelerometer</a></div><div class="ttdeci">void attachAccelerometer(Accelerometer *a)</div><div class="ttdoc">Attach an Accelerometer sensor to the ThreadedRobot to allow it to detect robot motion. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3f/_threaded_robot_8cpp_source.html#l00045">ThreadedRobot.cpp:45</a></div></div>
<div class="ttc" id="rbe2001_8ino_html_a90bb1c48eba85e2acf136982fcfd628e"><div class="ttname"><a href="../../de/d03/rbe2001_8ino.html#a90bb1c48eba85e2acf136982fcfd628e">horiz_line</a></div><div class="ttdeci">bool horiz_line</div><div class="ttdoc">If the main code detected a horizontal line. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d03/rbe2001_8ino_source.html#l00089">rbe2001.ino:89</a></div></div>
<div class="ttc" id="class_arm_html_a4a2070a27aecb7129cb89f4c9231278a"><div class="ttname"><a href="../../d4/d47/class_arm.html#a4a2070a27aecb7129cb89f4c9231278a">Arm::stop</a></div><div class="ttdeci">void stop(void)</div><div class="ttdoc">Stop arm motion. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d25/_arm_8cpp_source.html#l00038">Arm.cpp:38</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a0710cfb77cd7024b3c712061f1349443"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a0710cfb77cd7024b3c712061f1349443">robot_disabled</a></div><div class="ttdeci">bool robot_disabled</div><div class="ttdoc">True if the robot is disabled. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00059">ThreadedRobot.hpp:59</a></div></div>
<div class="ttc" id="config_8h_html_a02a32dc793fb0f35a9e3042d1c2811d8"><div class="ttname"><a href="../../db/d16/config_8h.html#a02a32dc793fb0f35a9e3042d1c2811d8">ARM_DOWN_DELIVER</a></div><div class="ttdeci">#define ARM_DOWN_DELIVER</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/config_8h_source.html#l00025">config.h:25</a></div></div>
<div class="ttc" id="config_8h_html_ad674f3d1488156b64c1c2ef0826df9af"><div class="ttname"><a href="../../db/d16/config_8h.html#ad674f3d1488156b64c1c2ef0826df9af">MSG_ROBOT_OP_RELEASE_GRP</a></div><div class="ttdeci">#define MSG_ROBOT_OP_RELEASE_GRP</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/config_8h_source.html#l00062">config.h:62</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a638cd7916d1c1c8a83d15c47a8fe6ef0"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a638cd7916d1c1c8a83d15c47a8fe6ef0">ThreadedRobot::stopped_cnt</a></div><div class="ttdeci">uint32_t stopped_cnt</div><div class="ttdoc">Count how many times the accelerometer thinks we stopped as to avoid error. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00102">ThreadedRobot.hpp:102</a></div></div>
<div class="ttc" id="class_drive_train_html_a53087c84c085d1f06b06d2e191e34882"><div class="ttname"><a href="../../d9/db0/class_drive_train.html#a53087c84c085d1f06b06d2e191e34882">DriveTrain::drive</a></div><div class="ttdeci">void drive(void)</div><div class="ttdoc">Run drive PD. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d6e/_drive_train_8cpp_source.html#l00248">DriveTrain.cpp:248</a></div></div>
<div class="ttc" id="config_8h_html_a48248df01840ec515c1288dfbc0323ed"><div class="ttname"><a href="../../db/d16/config_8h.html#a48248df01840ec515c1288dfbc0323ed">MSG_ROBOT_OP_DRV_TO_STOR</a></div><div class="ttdeci">#define MSG_ROBOT_OP_DRV_TO_STOR</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/config_8h_source.html#l00064">config.h:64</a></div></div>
<div class="ttc" id="class_threaded_robot_html_ad666af7d773c8096210f6b5c4d060086"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#ad666af7d773c8096210f6b5c4d060086">ThreadedRobot::drive</a></div><div class="ttdeci">DriveTrain * drive</div><div class="ttdoc">Drivetrain control object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00096">ThreadedRobot.hpp:96</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a51cbd0787fa757506942c0f36780983e"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a51cbd0787fa757506942c0f36780983e">ThreadedRobot::attachReflectanceSensor</a></div><div class="ttdeci">void attachReflectanceSensor(ReflectanceSensor *rsensor)</div><div class="ttdoc">Attach a ReflectanceSensor sensor to the ThreadedRobot to allow it to detect lines. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3f/_threaded_robot_8cpp_source.html#l00039">ThreadedRobot.cpp:39</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a303b885262b38d61b183b975a31fa9f5"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a303b885262b38d61b183b975a31fa9f5">STEP__EXTRACT_ROUTINE</a></div><div class="ttdeci">#define STEP__EXTRACT_ROUTINE</div><div class="ttdoc">Extract from the current reactor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00050">ThreadedRobot.hpp:50</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_ac43f0de8273a3d7db6116817ea05b953"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#ac43f0de8273a3d7db6116817ea05b953">STEP__TO_STORAGE</a></div><div class="ttdeci">#define STEP__TO_STORAGE</div><div class="ttdoc">Head to storage. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00051">ThreadedRobot.hpp:51</a></div></div>
<div class="ttc" id="class_messenger_html_aa07992df20b2aee6d2c4defd8d6b110c"><div class="ttname"><a href="../../d6/dc9/class_messenger.html#aa07992df20b2aee6d2c4defd8d6b110c">Messenger::robot</a></div><div class="ttdeci">RobotData * robot(void)</div><div class="ttdoc">Get the current robot data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/ddf/_messenger_8cpp_source.html#l00039">Messenger.cpp:39</a></div></div>
<div class="ttc" id="class_field_data_html_aace8d0ab4c931b35ab85b71710079459"><div class="ttname"><a href="../../dc/d7a/class_field_data.html#aace8d0ab4c931b35ab85b71710079459">FieldData::checkStorageTube</a></div><div class="ttdeci">uint8_t checkStorageTube(uint8_t index) const</div><div class="ttdoc">Check if the storage tube with given index is available. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d1a/_field_data_8cpp_source.html#l00040">FieldData.cpp:40</a></div></div>
<div class="ttc" id="config_8h_html_a7ef7bc399facc7d13a89e760d2c22449"><div class="ttname"><a href="../../db/d16/config_8h.html#a7ef7bc399facc7d13a89e760d2c22449">GUIDE_SWITCH</a></div><div class="ttdeci">#define GUIDE_SWITCH</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/config_8h_source.html#l00089">config.h:89</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a391a0e982563eaea9dbf60b9d63b72da"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a391a0e982563eaea9dbf60b9d63b72da">ThreadedRobot::attachIntake</a></div><div class="ttdeci">void attachIntake(Intake *intake)</div><div class="ttdoc">Attach an Intake to the ThreadedRobot to allow it to control the robot intake. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3f/_threaded_robot_8cpp_source.html#l00033">ThreadedRobot.cpp:33</a></div></div>
<div class="ttc" id="class_arm_html_a331502c3508a7d8137d9405f050ecbbf"><div class="ttname"><a href="../../d4/d47/class_arm.html#a331502c3508a7d8137d9405f050ecbbf">Arm::setSetpoint</a></div><div class="ttdeci">void setSetpoint(double setpoint)</div><div class="ttdoc">Set the PD controller&amp;#39;s setpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d25/_arm_8cpp_source.html#l00063">Arm.cpp:63</a></div></div>
<div class="ttc" id="class_threaded_robot_html_afc4445eed32ecc9c375e17ccf4f37241"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#afc4445eed32ecc9c375e17ccf4f37241">ThreadedRobot::arm</a></div><div class="ttdeci">Arm * arm</div><div class="ttdoc">Arm control object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00097">ThreadedRobot.hpp:97</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a533e726e2969b8474ca1cf9b697cb0b8"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a533e726e2969b8474ca1cf9b697cb0b8">SM_INTAKE_SLOW_IN</a></div><div class="ttdeci">#define SM_INTAKE_SLOW_IN</div><div class="ttdoc">Slowly run the intake inwards until the rod is sensed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00045">ThreadedRobot.hpp:45</a></div></div>
<div class="ttc" id="class_threaded_robot_html_ab6b42cc3e28dad7823f35afea5ceb4cc"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#ab6b42cc3e28dad7823f35afea5ceb4cc">ThreadedRobot::attachArm</a></div><div class="ttdeci">void attachArm(Arm *arm)</div><div class="ttdoc">Attach an Arm to the ThreadedRobot to allow it to control the robot arm. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3f/_threaded_robot_8cpp_source.html#l00027">ThreadedRobot.cpp:27</a></div></div>
<div class="ttc" id="class_intake_html_abd14de5ccd68929ea2627ca11aec9688"><div class="ttname"><a href="../../db/dfd/class_intake.html#abd14de5ccd68929ea2627ca11aec9688">Intake::fullOut</a></div><div class="ttdeci">void fullOut(void)</div><div class="ttdoc">Drive the intake full out. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d11/_intake_8cpp_source.html#l00061">Intake.cpp:61</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_aa746f89a7ab4e61cfe763ca6ad8a2e22"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#aa746f89a7ab4e61cfe763ca6ad8a2e22">STEP__INSERT_ROUTINE</a></div><div class="ttdeci">#define STEP__INSERT_ROUTINE</div><div class="ttdoc">Insert new rod into reactor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00055">ThreadedRobot.hpp:55</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a3c2f2358f32ba58846b13e95b3c55527"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a3c2f2358f32ba58846b13e95b3c55527">ThreadedRobot::cur_reactor</a></div><div class="ttdeci">int8_t cur_reactor</div><div class="ttdoc">Keep track of the current reactor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00108">ThreadedRobot.hpp:108</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a26c2a122486872fb524e51b3040a6dc5"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a26c2a122486872fb524e51b3040a6dc5">STEP__TO_SUPPLY_NAV</a></div><div class="ttdeci">#define STEP__TO_SUPPLY_NAV</div><div class="ttdoc">Head to supply. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00052">ThreadedRobot.hpp:52</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a4fc7e302c22b562e209b43ca06b8965d"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a4fc7e302c22b562e209b43ca06b8965d">STEP__TO_REACTOR_RETURN</a></div><div class="ttdeci">#define STEP__TO_REACTOR_RETURN</div><div class="ttdoc">Return to reactor from supply. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00054">ThreadedRobot.hpp:54</a></div></div>
<div class="ttc" id="class_robot_data_html_a8bffbd345dfd74acedd44270133e0477"><div class="ttname"><a href="../../d2/d9e/class_robot_data.html#a8bffbd345dfd74acedd44270133e0477">RobotData::getRadiationLevel</a></div><div class="ttdeci">uint8_t getRadiationLevel(void) const</div><div class="ttdoc">Get the radiation level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d83/_robot_data_8cpp_source.html#l00038">RobotData.cpp:38</a></div></div>
<div class="ttc" id="class_accelerometer_html_a88b653a985a23ebbed8916ef5a2cf0af"><div class="ttname"><a href="../../d9/d1c/class_accelerometer.html#a88b653a985a23ebbed8916ef5a2cf0af">Accelerometer::stopped</a></div><div class="ttdeci">bool stopped(void)</div><div class="ttdoc">Determine if the robot has &quot;stopped&quot; based on the X and Y accelerometer readings. ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db8/_accelerometer_8cpp_source.html#l00042">Accelerometer.cpp:42</a></div></div>
<div class="ttc" id="class_threaded_robot_html_a8cc4fc4f00ff6566604f9499d427698a"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#a8cc4fc4f00ff6566604f9499d427698a">ThreadedRobot::drive_state</a></div><div class="ttdeci">uint8_t drive_state</div><div class="ttdoc">Status of the drive subsystem. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00088">ThreadedRobot.hpp:88</a></div></div>
<div class="ttc" id="class_drive_train_html_af7e515735f07964fdf42e79bf822e3d1"><div class="ttname"><a href="../../d9/db0/class_drive_train.html#af7e515735f07964fdf42e79bf822e3d1">DriveTrain::driveTurn</a></div><div class="ttdeci">void driveTurn(void)</div><div class="ttdoc">Run gyro PD. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d6e/_drive_train_8cpp_source.html#l00253">DriveTrain.cpp:253</a></div></div>
<div class="ttc" id="class_threaded_robot_html_ac68916b337d845b298d7e66f2f9261d7"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#ac68916b337d845b298d7e66f2f9261d7">ThreadedRobot::cur_tube</a></div><div class="ttdeci">int8_t cur_tube</div><div class="ttdoc">Keep track of the current tube. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00107">ThreadedRobot.hpp:107</a></div></div>
<div class="ttc" id="config_8h_html_a5802759eadaedbee1fad0989f746e940"><div class="ttname"><a href="../../db/d16/config_8h.html#a5802759eadaedbee1fad0989f746e940">ARM_UP</a></div><div class="ttdeci">#define ARM_UP</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d16/config_8h_source.html#l00023">config.h:23</a></div></div>
<div class="ttc" id="_threaded_robot_8hpp_html_a11f08cf179cbed14133b5202e4b3d08d"><div class="ttname"><a href="../../d9/da8/_threaded_robot_8hpp.html#a11f08cf179cbed14133b5202e4b3d08d">STATUS_INTAKE_FC</a></div><div class="ttdeci">#define STATUS_INTAKE_FC</div><div class="ttdoc">First call of intake state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/_threaded_robot_8hpp_source.html#l00019">ThreadedRobot.hpp:19</a></div></div>
<div class="ttc" id="class_threaded_robot_html_ae5545fb683a84aec9bda34a2c9bba228"><div class="ttname"><a href="../../da/df1/class_threaded_robot.html#ae5545fb683a84aec9bda34a2c9bba228">ThreadedRobot::stepVirtualThreads</a></div><div class="ttdeci">void stepVirtualThreads(uint64_t micros_elapsed)</div><div class="ttdoc">Step through each component of the robot, giving a pseudo-multithreaded functionality. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d3f/_threaded_robot_8cpp_source.html#l00051">ThreadedRobot.cpp:51</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_18043cdea4082d6d3aff76a7097d24bd.html">rbe2001</a></li><li class="navelem"><a class="el" href="../../dir_37fd8b6921baf4d24a43e0afd6e39fe9.html">subsystems</a></li><li class="navelem"><a class="el" href="../../de/d3f/_threaded_robot_8cpp.html">ThreadedRobot.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
